(()=>{var t={455:(t,e,r)=>{"use strict";r.r(e),r.d(e,{IO_DEVICES_CONSTANTS:()=>n,IoDevices:()=>o,default:()=>s});var n={FILE_PATH:{DEVICE_FRAMEBUFFER_ZERO:{PATH:"/_wasmer/dev/fb0",FRAME_BUFFER:"/_wasmer/dev/fb0/fb",VIRTUAL_SIZE:"/_wasmer/dev/fb0/virtual_size",DRAW:"/_wasmer/dev/fb0/draw",INPUT:"/_wasmer/dev/fb0/input"}}},i=void 0;i="object"==typeof window?window.TextDecoder:"object"==typeof self?self.TextDecoder:r(464).TextDecoder;var o=function(){function t(t){this.wasmFs=t,this.wasmFs.volume.mkdirSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.PATH,{recursive:!0}),this.wasmFs.volume.writeFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.FRAME_BUFFER,""),this.wasmFs.volume.writeFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.VIRTUAL_SIZE,""),this.wasmFs.volume.writeFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.DRAW,""),this.wasmFs.volume.writeFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.INPUT,""),this.windowSizeCallback=function(){},this.bufferIndexDisplayCallback=function(){},this.inputCallback=function(){return new Uint8Array},this.fdFrameBuffer=this.wasmFs.volume.openSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.FRAME_BUFFER,"w+"),this.fdBufferIndexDisplay=this.wasmFs.volume.openSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.DRAW,"w+"),this.fdWindowSize=this.wasmFs.fs.openSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.VIRTUAL_SIZE,"w+"),this.fdInput=this.wasmFs.volume.openSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.INPUT,"w+");var e=this,r=this.wasmFs.volume.fds[this.fdInput].node.read;this.wasmFs.volume.fds[this.fdInput].node.read=function(){var t=e.inputCallback();return e.wasmFs.volume.writeFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.INPUT,t),t=Array.prototype.slice.call(arguments),r.apply(e.wasmFs.volume.fds[e.fdInput].node,t)};var i=this.wasmFs.volume.fds[this.fdWindowSize].node.write;this.wasmFs.volume.fds[this.fdWindowSize].node.write=function(){var t=Array.prototype.slice.call(arguments);return t=i.apply(e.wasmFs.volume.fds[e.fdWindowSize].node,t),e.windowSizeCallback(),t};var o=this.wasmFs.volume.fds[this.fdBufferIndexDisplay].node.write;this.wasmFs.volume.fds[this.fdBufferIndexDisplay].node.write=function(){var t=Array.prototype.slice.call(arguments);return t=o.apply(e.wasmFs.volume.fds[e.fdBufferIndexDisplay].node,t),e.bufferIndexDisplayCallback(),t}}return t.prototype.getFrameBuffer=function(){return this.wasmFs.fs.readFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.FRAME_BUFFER)},t.prototype.getWindowSize=function(){var t=this.wasmFs.fs.readFileSync(n.FILE_PATH.DEVICE_FRAMEBUFFER_ZERO.VIRTUAL_SIZE);return 0<t.length?(t=new i("utf-8").decode(t).split("x"),[parseInt(t[0],10),parseInt(t[1],10)]):[0,0]},t.prototype.setWindowSizeCallback=function(t){this.windowSizeCallback=t},t.prototype.setBufferIndexDisplayCallback=function(t){this.bufferIndexDisplayCallback=t},t.prototype.setInputCallback=function(t){this.inputCallback=t},t}();const s=o},628:(t,e,r)=>{"use strict";function n(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function i(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}r.r(e),r.d(e,{WasmFs:()=>an,default:()=>un});var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u(t,e){return t(e={exports:{}},e.exports),e.exports}var h=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}}));a(h);var c=u((function(t,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}})),f=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=h.constants.S_IFMT,n=h.constants.S_IFDIR,i=h.constants.S_IFREG,o=h.constants.S_IFBLK,s=h.constants.S_IFCHR,a=h.constants.S_IFLNK,u=h.constants.S_IFIFO,f=h.constants.S_IFSOCK;t=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var n=new t,i=e.gid,o=e.atime,s=e.mtime,a=e.ctime;return r=r?c.default:function(t){return t},n.uid=r(e.uid),n.gid=r(i),n.rdev=r(0),n.blksize=r(4096),n.ino=r(e.ino),n.size=r(e.getSize()),n.blocks=r(1),n.atime=o,n.mtime=s,n.ctime=a,n.birthtime=a,n.atimeMs=r(o.getTime()),n.mtimeMs=r(s.getTime()),i=r(a.getTime()),n.ctimeMs=i,n.birthtimeMs=i,n.dev=r(0),n.mode=r(e.mode),n.nlink=r(e.nlink),n},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(u)},t.prototype.isSocket=function(){return this._checkModeProperty(f)},t}(),e.Stats=t,e.default=t}));a(f);var l=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p=[],d=[],y="undefined"!=typeof Uint8Array?Uint8Array:Array,m=!1;function g(){m=!0;for(var t=0;64>t;++t)p[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;d[45]=62,d[95]=63}function v(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(p[e>>18&63]+p[e>>12&63]+p[e>>6&63]+p[63&e]);return n.join("")}function w(t){m||g();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(v(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=p[t>>2],n+=p[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=p[t>>10],n+=p[t>>4&63],n+=p[t<<2&63],n+="="),i.push(n),i.join("")}function b(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,u=-7,h=r?-1:1,c=t[e+(i=r?i-1:0)];for(i+=h,r=c&(1<<-u)-1,c>>=-u,u+=o;0<u;r=256*r+t[e+i],i+=h,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=n;0<u;o=256*o+t[e+i],i+=h,u-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,n),r-=a}return(c?-1:1)*o*Math.pow(2,r-n)}function _(t,e,r,n,i,o){var s,a=8*o-i-1,u=(1<<a)-1,h=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var f=n?1:-1,l=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=u):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+h?e+c/s:e+c*Math.pow(2,1-h))*s&&(n++,s/=2),n+h>=u?(e=0,n=u):1<=n+h?(e=(e*s-1)*Math.pow(2,i),n+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=f,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=f,n/=256,a-=8);t[r+o-f]|=128*l}var E={}.toString,S=Array.isArray||function(t){return"[object Array]"==E.call(t)};A.TYPED_ARRAY_SUPPORT=void 0===l.TYPED_ARRAY_SUPPORT||l.TYPED_ARRAY_SUPPORT;var R=A.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function T(t,e){if((A.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return A.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=A.prototype:(null===t&&(t=new A(e)),t.length=e),t}function A(t,e,r){if(!(A.TYPED_ARRAY_SUPPORT||this instanceof A))return new A(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return I(this,t)}return O(this,t,e,r)}function O(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),A.TYPED_ARRAY_SUPPORT?(t=e).__proto__=A.prototype:t=P(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!A.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(n=T(n,r=0|N(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(F(e)){var r=0|k(e.length);return 0===(t=T(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?T(t,0):P(t,e);if("Buffer"===e.type&&S(e.data))return P(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function C(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function I(t,e){if(C(e),t=T(t,0>e?0:0|k(e)),!A.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function P(t,e){var r=0>e.length?0:0|k(e.length);t=T(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function k(t){if(t>=(A.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(A.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function F(t){return!(null==t||!t._isBuffer)}function N(t,e){if(F(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(n)return H(t).length;e=(""+e).toLowerCase(),n=!0}}function B(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return U(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return 0===e&&r===this.length?w(this):w(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function x(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function L(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=A.from(e,n)),F(e))return 0===e.length?-1:D(t,e,r,n,i);if("number"==typeof e)return e&=255,A.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):D(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function D(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,u/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===u)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+u>a&&(r=a-u);0<=r;r--){for(a=!0,n=0;n<u;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function U(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:a=t[e+1];var u=t[e+2];128==(192&a)&&128==(192&u)&&2047<(i=(15&i)<<12|(63&a)<<6|63&u)&&(55296>i||57343<i)&&(o=i);break;case 4:a=t[e+1],u=t[e+2];var h=t[e+3];128==(192&a)&&128==(192&u)&&128==(192&h)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&h)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=M)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=M));n=r}return n}A.poolSize=8192,A._augment=function(t){return t.__proto__=A.prototype,t},A.from=function(t,e,r){return O(null,t,e,r)},A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array),A.alloc=function(t,e,r){return C(t),0>=t?T(null,t):void 0!==e?"string"==typeof r?T(null,t).fill(e,r):T(null,t).fill(e):T(null,t)},A.allocUnsafe=function(t){return I(null,t)},A.allocUnsafeSlow=function(t){return I(null,t)},A.isBuffer=J,A.compare=function(t,e){if(!F(t)||!F(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},A.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(t,e){if(!S(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return A.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=A.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!F(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,n),n+=i.length}return e},A.byteLength=N,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},A.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},A.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},A.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?U(this,0,t):B.apply(this,arguments)},A.prototype.equals=function(t){if(!F(t))throw new TypeError("Argument must be a Buffer");return this===t||0===A.compare(this,t)},A.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},A.prototype.compare=function(t,e,r,n,i){if(!F(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},A.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},A.prototype.indexOf=function(t,e,r){return L(this,t,e,r,!0)},A.prototype.lastIndexOf=function(t,e,r){return L(this,t,e,r,!1)},A.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return $(H(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return $(q(t),this,e,r);case"base64":return $(K(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return $(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function j(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function W(t,e,r,n,i,o){if(!F(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Y(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function G(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}A.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),A.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=A.prototype;else{e=new A(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},A.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},A.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},A.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},A.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},A.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},A.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},A.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},A.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},A.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},A.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},A.prototype.readInt16LE=function(t,e){return e||j(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},A.prototype.readInt16BE=function(t,e){return e||j(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},A.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},A.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},A.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),b(this,t,!0,23,4)},A.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),b(this,t,!1,23,4)},A.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),b(this,t,!0,52,8)},A.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),b(this,t,!1,52,8)},A.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||W(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},A.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||W(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},A.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,1,255,0),A.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},A.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Y(this,t,e,!0),e+2},A.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Y(this,t,e,!1),e+2},A.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},A.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},A.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||W(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},A.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||W(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},A.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,1,127,-128),A.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},A.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Y(this,t,e,!0),e+2},A.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Y(this,t,e,!1),e+2},A.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,4,2147483647,-2147483648),A.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},A.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||W(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),A.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},A.prototype.writeFloatLE=function(t,e,r){return r||G(this,0,e,4),_(this,t,e,!0,23,4),e+4},A.prototype.writeFloatBE=function(t,e,r){return r||G(this,0,e,4),_(this,t,e,!1,23,4),e+4},A.prototype.writeDoubleLE=function(t,e,r){return r||G(this,0,e,8),_(this,t,e,!0,52,8),e+8},A.prototype.writeDoubleBE=function(t,e,r){return r||G(this,0,e,8),_(this,t,e,!1,52,8),e+8},A.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!A.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},A.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!A.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=F(t)?t:H(new A(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var V=/[^+\/0-9A-Za-z-_]/g;function H(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function K(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(V,"")).length)t="";else for(;0!=t.length%4;)t+="=";m||g();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new y(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=d[t.charCodeAt(e)]<<18|d[t.charCodeAt(e+1)]<<12|d[t.charCodeAt(e+2)]<<6|d[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=d[t.charCodeAt(e)]<<2|d[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=d[t.charCodeAt(e)]<<10|d[t.charCodeAt(e+1)]<<4|d[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function $(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t){return null!=t&&(!!t._isBuffer||X(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&X(t.slice(0,0)))}function X(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Z=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:R,Buffer:A,SlowBuffer:function(t){return+t!=t&&(t=0),A.alloc(+t)},isBuffer:J}),Q=u((function(t,e){function r(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(Z.Buffer.bind.apply(Z.Buffer,n([void 0,t],e)))}var n=s&&s.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=Z.Buffer,e.bufferAllocUnsafe=Z.Buffer.allocUnsafe||r,e.bufferFrom=Z.Buffer.from||r}));function tt(){throw Error("setTimeout has not been defined")}function et(){throw Error("clearTimeout has not been defined")}a(Q);var rt=tt,nt=et;function it(t){if(rt===setTimeout)return setTimeout(t,0);if((rt===tt||!rt)&&setTimeout)return rt=setTimeout,setTimeout(t,0);try{return rt(t,0)}catch(e){try{return rt.call(null,t,0)}catch(e){return rt.call(this,t,0)}}}"function"==typeof l.setTimeout&&(rt=setTimeout),"function"==typeof l.clearTimeout&&(nt=clearTimeout);var ot,st=[],at=!1,ut=-1;function ht(){at&&ot&&(at=!1,ot.length?st=ot.concat(st):ut=-1,st.length&&ct())}function ct(){if(!at){var t=it(ht);at=!0;for(var e=st.length;e;){for(ot=st,st=[];++ut<e;)ot&&ot[ut].run();ut=-1,e=st.length}ot=null,at=!1,function(t){if(nt===clearTimeout)return clearTimeout(t);if((nt===et||!nt)&&clearTimeout)return nt=clearTimeout,clearTimeout(t);try{nt(t)}catch(e){try{return nt.call(null,t)}catch(e){return nt.call(this,t)}}}(t)}}function ft(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];st.push(new lt(t,e)),1!==st.length||at||it(ct)}function lt(t,e){this.fun=t,this.array=e}function pt(){}lt.prototype.run=function(){this.fun.apply(null,this.array)};var dt=l.performance||{},yt=dt.now||dt.mozNow||dt.msNow||dt.oNow||dt.webkitNow||function(){return(new Date).getTime()},mt=new Date,gt={nextTick:ft,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:pt,addListener:pt,once:pt,off:pt,removeListener:pt,removeAllListeners:pt,emit:pt,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*yt.call(dt),r=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-mt)/1e3}},vt="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function r(){}t.super_=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},wt=/%[sdj%]/g;function bt(t){if(!Bt(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Tt(arguments[r]));return e.join(" ")}r=1;var n=arguments,i=n.length;e=String(t).replace(wt,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}));for(var o=n[r];r<i;o=n[++r])e=null!==o&&Dt(o)?e+" "+Tt(o):e+" "+o;return e}function _t(t,e){if(xt(l.process))return function(){return _t(t,e).apply(this,arguments)};if(!0===gt.noDeprecation)return t;var r=!1;return function(){if(!r){if(gt.throwDeprecation)throw Error(e);gt.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var Et,St={};function Rt(t){return xt(Et)&&(Et=gt.env.NODE_DEBUG||""),t=t.toUpperCase(),St[t]||(new RegExp("\\b"+t+"\\b","i").test(Et)?St[t]=function(){var e=bt.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:St[t]=function(){}),St[t]}function Tt(t,e){var r={seen:[],stylize:Ot};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),Ft(e)?r.showHidden=e:e&&Vt(r,e),xt(r.showHidden)&&(r.showHidden=!1),xt(r.depth)&&(r.depth=2),xt(r.colors)&&(r.colors=!1),xt(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=At),Ct(r,t,r.depth)}function At(t,e){return(e=Tt.styles[e])?"["+Tt.colors[e][0]+"m"+t+"["+Tt.colors[e][1]+"m":t}function Ot(t){return t}function Ct(t,e,r){if(t.customInspect&&e&&jt(e.inspect)&&e.inspect!==Tt&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Bt(n)||(n=Ct(t,n,r)),n}if(n=function(t,e){return xt(e)?t.stylize("undefined","undefined"):Bt(e)?(e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(e,"string")):Nt(e)?t.stylize(""+e,"number"):Ft(e)?t.stylize(""+e,"boolean"):null===e?t.stylize("null","null"):void 0}(t,e))return n;var i=Object.keys(e),o=function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),Mt(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return It(e);if(0===i.length){if(jt(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(Lt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ut(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Mt(e))return It(e)}n="";var s=!1,a=["{","}"];return kt(e)&&(s=!0,a=["[","]"]),jt(e)&&(n=" [Function"+(e.name?": "+e.name:"")+"]"),Lt(e)&&(n=" "+RegExp.prototype.toString.call(e)),Ut(e)&&(n=" "+Date.prototype.toUTCString.call(e)),Mt(e)&&(n=" "+It(e)),0!==i.length||s&&0!=e.length?0>r?Lt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(Pt(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(Pt(t,e,r,n,i,!0))})),o}(t,e,r,o,i):i.map((function(n){return Pt(t,e,r,o,n,s)})),t.seen.pop(),function(t,e,r){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(i,n,a)):a[0]+n+a[1]}function It(t){return"["+Error.prototype.toString.call(t)+"]"}function Pt(t,e,r,n,i,o){var s,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(n,i)||(s="["+i+"]"),a||(0>t.seen.indexOf(e.value)?-1<(a=Ct(t,e.value,null===r?null:r-1)).indexOf("\n")&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),xt(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function kt(t){return Array.isArray(t)}function Ft(t){return"boolean"==typeof t}function Nt(t){return"number"==typeof t}function Bt(t){return"string"==typeof t}function xt(t){return void 0===t}function Lt(t){return Dt(t)&&"[object RegExp]"===Object.prototype.toString.call(t)}function Dt(t){return"object"==typeof t&&null!==t}function Ut(t){return Dt(t)&&"[object Date]"===Object.prototype.toString.call(t)}function Mt(t){return Dt(t)&&("[object Error]"===Object.prototype.toString.call(t)||t instanceof Error)}function jt(t){return"function"==typeof t}function Wt(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Yt(t){return 10>t?"0"+t.toString(10):t.toString(10)}Tt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Tt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var zt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function Gt(){var t=new Date,e=[Yt(t.getHours()),Yt(t.getMinutes()),Yt(t.getSeconds())].join(":");return[t.getDate(),zt[t.getMonth()],e].join(" ")}function Vt(t,e){if(!e||!Dt(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}var Ht={inherits:vt,_extend:Vt,log:function(){console.log("%s - %s",Gt(),bt.apply(null,arguments))},isBuffer:function(t){return J(t)},isPrimitive:Wt,isFunction:jt,isError:Mt,isDate:Ut,isObject:Dt,isRegExp:Lt,isUndefined:xt,isSymbol:function(t){return"symbol"==typeof t},isString:Bt,isNumber:Nt,isNullOrUndefined:function(t){return null==t},isNull:function(t){return null===t},isBoolean:Ft,isArray:kt,inspect:Tt,deprecate:_t,format:bt,debuglog:Rt};function qt(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var Kt,$t=Object.prototype.hasOwnProperty,Jt=Object.keys||function(t){var e,r=[];for(e in t)$t.call(t,e)&&r.push(e);return r},Xt=Array.prototype.slice;function Zt(){return void 0!==Kt?Kt:Kt="foo"===function(){}.name}function Qt(t){return!J(t)&&"function"==typeof l.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer))}function te(t,e){t||se(t,!0,e,"==",ae)}var ee=/\s*function\s+([^\(\s]*)\s*/;function re(t){if(jt(t))return Zt()?t.name:(t=t.toString().match(ee))&&t[1]}function ne(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=ie(oe(this.actual),128)+" "+this.operator+" "+ie(oe(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||se;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error()).stack&&(t=t.stack,e=re(e),0<=(e=t.indexOf("\n"+e))&&(e=t.indexOf("\n",e+1),t=t.substring(e+1)),this.stack=t)}function ie(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function oe(t){return Zt()||!jt(t)?Tt(t):"[Function"+((t=re(t))?": "+t:"")+"]"}function se(t,e,r,n,i){throw new ne({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function ae(t,e){t||se(t,!0,e,"==",ae)}function ue(t,e,r,n){if(t===e)return!0;if(J(t)&&J(e))return 0===qt(t,e);if(Ut(t)&&Ut(e))return t.getTime()===e.getTime();if(Lt(t)&&Lt(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(!Qt(t)||!Qt(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(J(t)!==J(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(Wt(t)||Wt(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=he(t),o=he(e);if(i&&!o||!i&&o)return!1;if(i)return ue(t=Xt.call(t),e=Xt.call(e),r);i=Jt(t);var s=Jt(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(!ue(t[s=i[o]],e[s],r,n))return!1;return!0}(t,e,r,n))}return 0===qt(new Uint8Array(t.buffer),new Uint8Array(e.buffer))}return r?t===e:t==e}function he(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function ce(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function fe(t,e,r,n){if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null);try{e()}catch(t){var i=t}e=i,n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!e&&se(e,r,"Missing expected exception"+n),i="string"==typeof n;var o=!t&&e&&!r;if((!t&&Mt(e)&&i&&ce(e,r)||o)&&se(e,r,"Got unwanted exception"+n),t&&e&&r&&!ce(e,r)||!t&&e)throw e}te.AssertionError=ne,vt(ne,Error),te.fail=se,te.ok=ae,te.equal=function t(e,r,n){e!=r&&se(e,r,n,"==",t)},te.notEqual=function t(e,r,n){e==r&&se(e,r,n,"!=",t)},te.deepEqual=function t(e,r,n){ue(e,r,!1)||se(e,r,n,"deepEqual",t)},te.deepStrictEqual=function t(e,r,n){ue(e,r,!0)||se(e,r,n,"deepStrictEqual",t)},te.notDeepEqual=function t(e,r,n){ue(e,r,!1)&&se(e,r,n,"notDeepEqual",t)},te.notDeepStrictEqual=function t(e,r,n){ue(e,r,!0)&&se(e,r,n,"notDeepStrictEqual",t)},te.strictEqual=function t(e,r,n){e!==r&&se(e,r,n,"===",t)},te.notStrictEqual=function t(e,r,n){e===r&&se(e,r,n,"!==",t)},te.throws=function(t,e,r){fe(!0,t,e,r)},te.doesNotThrow=function(t,e,r){fe(!1,t,e,r)},te.ifError=function(t){if(t)throw t};var le=u((function(t,e){function r(t){return function(t){function e(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(r=t.call(this,n(e,r))||this).code=e,r[u]=e,r.name=t.prototype.name+" ["+r[u]+"]",r}return a(e,t),e}(t)}function n(t,e){te.strictEqual(typeof t,"string");var r=h[t];if(te(r,"An invalid error message key was used: "+t+"."),"function"==typeof r)t=r;else{if(t=Ht.format,void 0===e||0===e.length)return r;e.unshift(r)}return String(t.apply(null,e))}function i(t,e){h[t]="function"==typeof e?e:String(e)}function o(t,e){if(te(t,"expected is required"),te("string"==typeof e,"thing is required"),Array.isArray(t)){var r=t.length;return te(0<r,"At least one expected value needs to be specified"),t=t.map((function(t){return String(t)})),2<r?"one of "+e+" "+t.slice(0,r-1).join(", ")+", or "+t[r-1]:2===r?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}var a=s&&s.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var u="undefined"==typeof Symbol?"_kCode":Symbol("code"),h={};t=function(t){function r(r){if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var n=r.message?t.call(this,r.message)||this:t.call(this,Ht.inspect(r.actual).slice(0,128)+" "+r.operator+" "+Ht.inspect(r.expected).slice(0,128))||this;return n.generatedMessage=!r.message,n.name="AssertionError [ERR_ASSERTION]",n.code="ERR_ASSERTION",n.actual=r.actual,n.expected=r.expected,n.operator=r.operator,e.Error.captureStackTrace(n,r.stackStartFunction),n}return a(r,t),r}(s.Error),e.AssertionError=t,e.message=n,e.E=i,e.Error=r(s.Error),e.TypeError=r(s.TypeError),e.RangeError=r(s.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",(function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'})),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",(function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"})),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",(function(t){return'The "'+t+'" encoding is not supported'})),i("ERR_ENCODING_INVALID_ENCODED_DATA",(function(t){return"The encoded data was not valid for encoding "+t})),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){if(te(t,"name is required"),e.includes("not ")){var n="must not be";e=e.split("not ")[1]}else n="must be";if(Array.isArray(t))n="The "+t.map((function(t){return'"'+t+'"'})).join(", ")+" arguments "+n+" "+o(e,"type");else if(t.includes(" argument"))n="The "+t+" "+n+" "+o(e,"type");else{var i=t.includes(".")?"property":"argument";n='The "'+t+'" '+i+" "+n+" "+o(e,"type")}return 3<=arguments.length&&(n+=". Received type "+(null!==r?typeof r:"null")),n})),i("ERR_INVALID_ARRAY_LENGTH",(function(t,e,r){return te.strictEqual(typeof r,"number"),'The array "'+t+'" (length '+r+") must be of length "+e+"."})),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'})),i("ERR_INVALID_OPT_VALUE_ENCODING",(function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'})),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",(function(t){return"The URL must be "+o(t,"scheme")})),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];te(0<t.length,"At least one arg needs to be specified"),e="The ";var r=t.length;switch(t=t.map((function(t){return'"'+t+'"'})),r){case 1:e+=t[0]+" argument";break;case 2:e+=t[0]+" and "+t[1]+" arguments";break;default:e+=t.slice(0,r-1).join(", "),e+=", and "+t[r-1]+" arguments"}return e+" must be specified"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",(function(t){return"DH parameter size "+t+" is less than 2048"})),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")}));a(le);var pe=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!Q.Buffer.isEncoding(t))throw new le.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new Q.Buffer(t):new Q.Buffer(t).toString(r):t}}));a(pe);var de=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=h.constants.S_IFMT,n=h.constants.S_IFDIR,i=h.constants.S_IFREG,o=h.constants.S_IFBLK,s=h.constants.S_IFCHR,a=h.constants.S_IFLNK,u=h.constants.S_IFIFO,c=h.constants.S_IFSOCK;t=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var n=new t,i=e.getNode().mode;return n.name=pe.strToEncoding(e.getName(),r),n.mode=i,n},t.prototype._checkModeProperty=function(t){return(this.mode&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(u)},t.prototype.isSocket=function(){return this._checkModeProperty(c)},t}(),e.Dirent=t,e.default=t}));function ye(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function me(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=ye(be(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."}function ge(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=me(t).substr(1),e=me(e).substr(1),t=r(t.split("/")),e=r(e.split("/"));for(var n=Math.min(t.length,e.length),i=n,o=0;o<n;o++)if(t[o]!==e[o]){i=o;break}for(n=[],o=i;o<t.length;o++)n.push("..");return(n=n.concat(e.slice(i))).join("/")}a(de);var ve=ge,we=me;function be(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var _e=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t="function"==typeof setImmediate?setImmediate.bind(s):setTimeout.bind(s),e.default=t}));a(_e);var Ee=u((function(t,e){function r(){var t=gt||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=_e.default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=r,e.default=r()}));function Se(){}function Re(){Re.init.call(this)}function Te(t,e,r,n){var i;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if(i=t._events){i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events);var o=i[e]}else i=t._events=new Se,t._eventsCount=0;return o?("function"==typeof o?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),o.warned||(r=void 0===t._maxListeners?Re.defaultMaxListeners:t._maxListeners)&&0<r&&o.length>r&&(o.warned=!0,(r=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,"function"==typeof console.warn?console.warn(r):console.log(r))):(i[e]=r,++t._eventsCount),t}function Ae(t,e,r){function n(){t.removeListener(e,n),i||(i=!0,r.apply(t,arguments))}var i=!1;return n.listener=r,n}function Oe(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function Ce(t,e){for(var r=Array(e);e--;)r[e]=t[e];return r}a(Ee),Se.prototype=Object.create(null),Re.EventEmitter=Re,Re.usingDomains=!1,Re.prototype.domain=void 0,Re.prototype._events=void 0,Re.prototype._maxListeners=void 0,Re.defaultMaxListeners=10,Re.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Se,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Re.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},Re.prototype.getMaxListeners=function(){return void 0===this._maxListeners?Re.defaultMaxListeners:this._maxListeners},Re.prototype.emit=function(t){var e,r,n="error"===t;if(e=this._events)n=n&&null==e.error;else if(!n)return!1;var i=this.domain;if(n){if(e=arguments[1],!i){if(e instanceof Error)throw e;throw(i=Error('Uncaught, unspecified "error" event. ('+e+")")).context=e,i}return e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(i=e[t]))return!1;e="function"==typeof i;var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(i=Ce(i,e=i.length),n=0;n<e;++n)i[n].call(this);break;case 2:if(n=arguments[1],e)i.call(this,n);else for(i=Ce(i,e=i.length),o=0;o<e;++o)i[o].call(this,n);break;case 3:if(n=arguments[1],o=arguments[2],e)i.call(this,n,o);else for(i=Ce(i,e=i.length),r=0;r<e;++r)i[r].call(this,n,o);break;case 4:if(n=arguments[1],o=arguments[2],r=arguments[3],e)i.call(this,n,o,r);else{i=Ce(i,e=i.length);for(var s=0;s<e;++s)i[s].call(this,n,o,r)}break;default:for(n=Array(o-1),r=1;r<o;r++)n[r-1]=arguments[r];if(e)i.apply(this,n);else for(i=Ce(i,e=i.length),o=0;o<e;++o)i[o].apply(this,n)}return!0},Re.prototype.addListener=function(t,e){return Te(this,t,e,!1)},Re.prototype.on=Re.prototype.addListener,Re.prototype.prependListener=function(t,e){return Te(this,t,e,!0)},Re.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Ae(this,t,e)),this},Re.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Ae(this,t,e)),this},Re.prototype.removeListener=function(t,e){var r;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');var n=this._events;if(!n)return this;var i=n[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)0==--this._eventsCount?this._events=new Se:(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){var o=-1;for(r=i.length;0<r--;)if(i[r]===e||i[r].listener&&i[r].listener===e){var s=i[r].listener;o=r;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new Se,this;delete n[t]}else{r=o+1;for(var a=i.length;r<a;o+=1,r+=1)i[o]=i[r];i.pop()}n.removeListener&&this.emit("removeListener",t,s||e)}return this},Re.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new Se,this._eventsCount=0):e[t]&&(0==--this._eventsCount?this._events=new Se:delete e[t]),this;if(0===arguments.length){e=Object.keys(e);for(var r,n=0;n<e.length;++n)"removeListener"!==(r=e[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Se,this._eventsCount=0,this}if("function"==typeof(e=e[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},Re.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var r=0;r<e.length;++r)e[r]=t[r].listener||t[r];t=e}else t=[];else t=[];return t},Re.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Oe.call(t,e)},Re.prototype.listenerCount=Oe,Re.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var Ie=u((function(t,e){var r=s&&s.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=h.constants.S_IFMT,i=h.constants.S_IFDIR,o=h.constants.S_IFREG,a=h.constants.S_IFLNK,u=h.constants.O_APPEND;e.SEP="/",t=function(t){function e(e,r){void 0===r&&(r=438);var n=t.call(this)||this;return n.uid=Ee.default.getuid(),n.gid=Ee.default.getgid(),n.atime=new Date,n.mtime=new Date,n.ctime=new Date,n.perm=438,n.mode=o,n.nlink=1,n.perm=r,n.mode|=r,n.ino=e,n}return r(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=Q.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(Q.bufferAllocUnsafe(0)),Q.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=Q.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~n|t},e.prototype.setIsFile=function(){this.setModeProperty(o)},e.prototype.setIsDirectory=function(){this.setModeProperty(i)},e.prototype.setIsSymlink=function(){this.setModeProperty(a)},e.prototype.isFile=function(){return(this.mode&n)===o},e.prototype.isDirectory=function(){return(this.mode&n)===i},e.prototype.isSymlink=function(){return(this.mode&n)===a},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,n){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===n&&(n=0),this.buf||(this.buf=Q.bufferAllocUnsafe(0)),n+r>this.buf.length){var i=Q.bufferAllocUnsafe(n+r);this.buf.copy(i,0,0,this.buf.length),this.buf=i}return t.copy(this.buf,n,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===n&&(n=0),this.buf||(this.buf=Q.bufferAllocUnsafe(0)),r>t.byteLength&&(r=t.byteLength),r+n>this.buf.length&&(r=this.buf.length-n),this.buf.copy(t,e,n,n+r),r},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=Q.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=Q.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=Q.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=Ee.default.getuid()),void 0===e&&(e=Ee.default.getgid()),!!(4&this.perm||e===this.gid&&32&this.perm||t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=Ee.default.getuid()),void 0===e&&(e=Ee.default.getgid()),!!(2&this.perm||e===this.gid&&16&this.perm||t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(Re.EventEmitter),e.Node=t,t=function(t){function n(e,r,n){var i=t.call(this)||this;return i.children={},i.steps=[],i.ino=0,i.length=0,i.vol=e,i.parent=r,i.steps=r?r.steps.concat([n]):[n],i}return r(n,t),n.prototype.setNode=function(t){this.node=t,this.ino=t.ino},n.prototype.getNode=function(){return this.node},n.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var r=new n(this.vol,this,t);return r.setNode(e),e.isDirectory(),this.setChild(t,r),r},n.prototype.setChild=function(t,e){return void 0===e&&(e=new n(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},n.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},n.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},n.prototype.getPath=function(){return this.steps.join(e.SEP)},n.prototype.getName=function(){return this.steps[this.steps.length-1]},n.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length||r>=e)return this;var n=this.getChild(t[r]);return n?n.walk(t,e,r+1):null},n.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},n}(Re.EventEmitter),e.Link=t,t=function(){function t(t,e,r,n){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=n}return t.prototype.getString=function(){return this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return f.default.build(this.node)},t.prototype.write=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof n&&(n=this.position),this.flags&u&&(n=this.getSize()),t=this.node.write(t,e,r,n),this.position=n+t,t},t.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof n&&(n=this.position),t=this.node.read(t,e,r,n),this.position=n+t,t},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}(),e.File=t}));a(Ie);var Pe=Ie.Node,ke=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=setTimeout.apply(null,arguments);return n&&"object"==typeof n&&"function"==typeof n.unref&&n.unref(),n}}));function Fe(){this.tail=this.head=null,this.length=0}a(ke),Fe.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},Fe.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},Fe.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},Fe.prototype.clear=function(){this.head=this.tail=null,this.length=0},Fe.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},Fe.prototype.concat=function(t){if(0===this.length)return A.alloc(0);if(1===this.length)return this.head.data;t=A.allocUnsafe(t>>>0);for(var e=this.head,r=0;e;)e.data.copy(t,r),r+=e.data.length,e=e.next;return t};var Ne=A.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Be(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!Ne(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Le;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=De;break;default:return void(this.write=xe)}this.charBuffer=new A(6),this.charLength=this.charReceived=0}function xe(t){return t.toString(this.encoding)}function Le(t){this.charLength=(this.charReceived=t.length%2)?2:0}function De(t){this.charLength=(this.charReceived=t.length%3)?3:0}Be.prototype.write=function(t){for(var e="";this.charLength;){if(e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length,t.copy(this.charBuffer,this.charReceived,0,e),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length);var r=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=r&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),n=(e+=t.toString(this.encoding,0,n)).length-1,55296<=(r=e.charCodeAt(n))&&56319>=r?(r=this.surrogateSize,this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),t.copy(this.charBuffer,0,0,r),e.substring(0,n)):e},Be.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var r=t[t.length-e];if(1==e&&6==r>>5){this.charLength=2;break}if(2>=e&&14==r>>4){this.charLength=3;break}if(3>=e&&30==r>>3){this.charLength=4;break}}this.charReceived=e},Be.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e},je.ReadableState=Me;var Ue=Rt("stream");function Me(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof lr&&(this.objectMode=this.objectMode||!!t.readableObjectMode),e=t.highWaterMark;var r=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Fe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new Be(t.encoding),this.encoding=t.encoding)}function je(t){if(!(this instanceof je))return new je(t);this._readableState=new Me(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),Re.call(this)}function We(t,e,r,n,i){var o=r,s=null;if(J(o)||"string"==typeof o||null==o||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(null===r)e.reading=!1,e.ended||(e.decoder&&(r=e.decoder.end())&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length),e.ended=!0,ze(t));else if(e.objectMode||r&&0<r.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!n){r=e.decoder.write(r);var a=!e.objectMode&&0===r.length}i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ze(t))),e.readingMore||(e.readingMore=!0,ft(Ve,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function Ye(t,e){if(0>=t||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var r=t;8388608<=r?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),e.highWaterMark=r}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function ze(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ue("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?ft(Ge,t):Ge(t))}function Ge(t){Ue("emit readable"),t.emit("readable"),Ke(t)}function Ve(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ue("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function He(t){Ue("readable nexttick read 0"),t.read(0)}function qe(t,e){e.reading||(Ue("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Ke(t),e.flowing&&!e.reading&&t.read(0)}function Ke(t){var e=t._readableState;for(Ue("flow",e.flowing);e.flowing&&null!==t.read(););}function $e(t,e){if(0===e.length)return null;if(e.objectMode)var r=e.buffer.shift();else if(!t||t>=e.length)r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(r=e.buffer,e=e.decoder,t<r.head.data.length)e=r.head.data.slice(0,t),r.head.data=r.head.data.slice(t);else{if(t===r.head.data.length)r=r.shift();else if(e){var n=1,i=(e=r.head).data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),0==(t-=s)){s===o.length?(++n,r.head=e.next?e.next:r.tail=null):(r.head=e,e.data=o.slice(s));break}++n}r.length-=n,r=i}else{for(e=A.allocUnsafe(t),i=1,(n=r.head).data.copy(e),t-=n.data.length;n=n.next;){if(s=t>(o=n.data).length?o.length:t,o.copy(e,e.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.head=n.next?n.next:r.tail=null):(r.head=n,n.data=o.slice(s));break}++i}r.length-=i,r=e}e=r}r=e}return r}function Je(t){var e=t._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,ft(Xe,e,t))}function Xe(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Ze(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Qe(){}function tr(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function er(t,e){Object.defineProperty(this,"buffer",{get:_t((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof lr&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==t.decodeStrings,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var r=e._writableState,n=r.sync,i=r.writecb;r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(--r.pendingcb,n?ft(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t)):((t=sr(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||or(e,r),n?ft(ir,e,r,t,i):ir(e,r,t,i))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ur(this)}function rr(t){if(!(this instanceof rr||this instanceof lr))return new rr(t);this._writableState=new er(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),Re.call(this)}function nr(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function ir(t,e,r,n){!r&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,n(),ar(t,e)}function or(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;nr(t,e,!0,e.length,n,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new ur(e)}else{for(;r&&(n=r.chunk,nr(t,e,!1,e.objectMode?1:n.length,n,r.encoding,r.callback),r=r.next,!e.writing););null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function sr(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function ar(t,e){var r=sr(e);return r&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),r}function ur(t){var e=this;this.entry=this.next=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}vt(je,Re),je.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=A.from(t,e),e=""),We(this,r,t,e,!1)},je.prototype.unshift=function(t){return We(this,this._readableState,t,"",!0)},je.prototype.isPaused=function(){return!1===this._readableState.flowing},je.prototype.setEncoding=function(t){return this._readableState.decoder=new Be(t),this._readableState.encoding=t,this},je.prototype.read=function(t){Ue("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ue("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Je(this):ze(this),null;if(0===(t=Ye(t,e))&&e.ended)return 0===e.length&&Je(this),null;var n=e.needReadable;return Ue("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&Ue("length less than watermark",n=!0),e.ended||e.reading?Ue("reading or ended",!1):n&&(Ue("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Ye(r,e))),null===(n=0<t?$e(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Je(this)),null!==n&&this.emit("data",n),n},je.prototype._read=function(){this.emit("error",Error("not implemented"))},je.prototype.pipe=function(t,e){function r(t){Ue("onunpipe"),t===c&&i()}function n(){Ue("onend"),t.end()}function i(){Ue("cleanup"),t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("drain",l),t.removeListener("error",s),t.removeListener("unpipe",r),c.removeListener("end",n),c.removeListener("end",i),c.removeListener("data",o),p=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}function o(e){Ue("ondata"),d=!1,!1!==t.write(e)||d||((1===f.pipesCount&&f.pipes===t||1<f.pipesCount&&-1!==Ze(f.pipes,t))&&!p&&(Ue("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,d=!0),c.pause())}function s(e){Ue("onerror",e),h(),t.removeListener("error",s),0===t.listeners("error").length&&t.emit("error",e)}function a(){t.removeListener("finish",u),h()}function u(){Ue("onfinish"),t.removeListener("close",a),h()}function h(){Ue("unpipe"),c.unpipe(t)}var c=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,Ue("pipe count=%d opts=%j",f.pipesCount,e),e=e&&!1===e.end?i:n,f.endEmitted?ft(e):c.once("end",e),t.on("unpipe",r);var l=function(t){return function(){var e=t._readableState;Ue("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Ke(t))}}(c);t.on("drain",l);var p=!1,d=!1;return c.on("data",o),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",s),t.once("close",a),t.once("finish",u),t.emit("pipe",c),f.flowing||(Ue("pipe resume"),c.resume()),t},je.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){t=e.pipes;var r=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<r;e++)t[e].emit("unpipe",this);return this}return-1===(r=Ze(e.pipes,t))||(e.pipes.splice(r,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},je.prototype.on=function(t,e){return e=Re.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&ze(this):ft(He,this))),e},je.prototype.addListener=je.prototype.on,je.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ue("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,ft(qe,this,t))),this},je.prototype.pause=function(){return Ue("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this},je.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(Ue("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){Ue("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||!(e.objectMode||i&&i.length)||n.push(i)||(r=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r])}(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){Ue("wrapped _read",e),r&&(r=!1,t.resume())},n},je._fromList=$e,rr.WritableState=er,vt(rr,Re),er.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},rr.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},rr.prototype.write=function(t,e,r){var n=this._writableState,i=!1;if("function"==typeof e&&(r=e,e=null),A.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=Qe),n.ended)n=r,t=Error("write after end"),this.emit("error",t),ft(n,t);else{var o=r,s=!0,a=!1;null===t?a=new TypeError("May not write null values to stream"):A.isBuffer(t)||"string"==typeof t||void 0===t||n.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),ft(o,a),s=!1),s&&(n.pendingcb++,i=e,n.objectMode||!1===n.decodeStrings||"string"!=typeof t||(t=A.from(t,i)),A.isBuffer(t)&&(i="buffer"),o=n.objectMode?1:t.length,n.length+=o,(e=n.length<n.highWaterMark)||(n.needDrain=!0),n.writing||n.corked?(o=n.lastBufferedRequest,n.lastBufferedRequest=new tr(t,i,r),o?o.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1):nr(this,n,!1,o,t,i,r),i=e)}return i},rr.prototype.cork=function(){this._writableState.corked++},rr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||or(this,t))},rr.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},rr.prototype._write=function(t,e,r){r(Error("not implemented"))},rr.prototype._writev=null,rr.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||(t=r,n.ending=!0,ar(this,n),t&&(n.finished?ft(t):this.once("finish",t)),n.ended=!0,this.writable=!1)},vt(lr,je);for(var hr=Object.keys(rr.prototype),cr=0;cr<hr.length;cr++){var fr=hr[cr];lr.prototype[fr]||(lr.prototype[fr]=rr.prototype[fr])}function lr(t){if(!(this instanceof lr))return new lr(t);je.call(this,t),rr.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",pr)}function pr(){this.allowHalfOpen||this._writableState.ended||ft(dr,this)}function dr(t){t.end()}function yr(t){this.afterTransform=function(e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;return i?(n.writechunk=null,n.writecb=null,null!=r&&t.push(r),i(e),(e=t._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function mr(t){if(!(this instanceof mr))return new mr(t);lr.call(this,t),this._transformState=new yr(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){gr(e,t)})):gr(e)}))}function gr(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}function vr(t){if(!(this instanceof vr))return new vr(t);mr.call(this,t)}function wr(){Re.call(this)}vt(mr,lr),mr.prototype.push=function(t,e){return this._transformState.needTransform=!1,lr.prototype.push.call(this,t,e)},mr.prototype._transform=function(){throw Error("Not implemented")},mr.prototype._write=function(t,e,r){var n=this._transformState;n.writecb=r,n.writechunk=t,n.writeencoding=e,n.transforming||(t=this._readableState,(n.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},mr.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},vt(vr,mr),vr.prototype._transform=function(t,e,r){r(null,t)},vt(wr,Re),wr.Readable=je,wr.Writable=rr,wr.Duplex=lr,wr.Transform=mr,wr.PassThrough=vr,wr.Stream=wr,wr.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&u.pause&&u.pause()}function n(){u.readable&&u.resume&&u.resume()}function i(){h||(h=!0,t.end())}function o(){h||(h=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(a(),0===Re.listenerCount(this,"error"))throw t}function a(){u.removeListener("data",r),t.removeListener("drain",n),u.removeListener("end",i),u.removeListener("close",o),u.removeListener("error",s),t.removeListener("error",s),u.removeListener("end",a),u.removeListener("close",a),t.removeListener("close",a)}var u=this;u.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(u.on("end",i),u.on("close",o));var h=!1;return u.on("error",s),t.on("error",s),u.on("end",a),u.on("close",a),t.on("close",a),t.emit("pipe",u),t};var br=Array.prototype.slice,_r=function t(e,r){for(var n in r)e[n]=r[n];return 3>arguments.length?e:t.apply(null,[e].concat(br.call(arguments,2)))},Er=u((function(t,e){function r(t,e,r){return void 0===r&&(r=function(t){return t}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Promise((function(o,s){t[e].bind(t).apply(void 0,n(i,[function(t,e){return t?s(t):o(r(e))}]))}))}}var n=s&&s.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return r(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return r(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return r(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return r(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return r(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,n,i){return r(this.vol,"read",(function(e){return{bytesRead:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.readFile=function(t){return r(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return r(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return r(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return r(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return r(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,n,i){return r(this.vol,"write",(function(e){return{bytesWritten:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.writeFile=function(t,e){return r(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=i,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(e,n){return r(t,"access")(e,n)},appendFile:function(e,n,o){return r(t,"appendFile")(e instanceof i?e.fd:e,n,o)},chmod:function(e,n){return r(t,"chmod")(e,n)},chown:function(e,n,i){return r(t,"chown")(e,n,i)},copyFile:function(e,n,i){return r(t,"copyFile")(e,n,i)},lchmod:function(e,n){return r(t,"lchmod")(e,n)},lchown:function(e,n,i){return r(t,"lchown")(e,n,i)},link:function(e,n){return r(t,"link")(e,n)},lstat:function(e,n){return r(t,"lstat")(e,n)},mkdir:function(e,n){return r(t,"mkdir")(e,n)},mkdtemp:function(e,n){return r(t,"mkdtemp")(e,n)},open:function(e,n,o){return r(t,"open",(function(e){return new i(t,e)}))(e,n,o)},readdir:function(e,n){return r(t,"readdir")(e,n)},readFile:function(e,n){return r(t,"readFile")(e instanceof i?e.fd:e,n)},readlink:function(e,n){return r(t,"readlink")(e,n)},realpath:function(e,n){return r(t,"realpath")(e,n)},rename:function(e,n){return r(t,"rename")(e,n)},rmdir:function(e){return r(t,"rmdir")(e)},stat:function(e,n){return r(t,"stat")(e,n)},symlink:function(e,n,i){return r(t,"symlink")(e,n,i)},truncate:function(e,n){return r(t,"truncate")(e,n)},unlink:function(e){return r(t,"unlink")(e)},utimes:function(e,n,i){return r(t,"utimes")(e,n,i)},writeFile:function(e,n,o){return r(t,"writeFile")(e instanceof i?e.fd:e,n,o)}}}}));a(Er);var Sr=/[^\x20-\x7E]/,Rr=/[\x2E\u3002\uFF0E\uFF61]/g,Tr="Overflow: input needs wider integers to process",Ar=Math.floor,Or=String.fromCharCode;function Cr(t,e){return t+22+75*(26>t)-((0!=e)<<5)}var Ir=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Pr(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function kr(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var Fr=Object.keys||function(t){var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r};function Nr(t,e,r,n){r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;for(t=t.split(e||"&"),e=1e3,n&&"number"==typeof n.maxKeys&&(e=n.maxKeys),n=t.length,0<e&&n>e&&(n=e),e=0;e<n;++e){var s=t[e].replace(o,"%20"),a=s.indexOf(r);if(0<=a){var u=s.substr(0,a);s=s.substr(a+1)}else u=s,s="";u=decodeURIComponent(u),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,u)?Ir(i[u])?i[u].push(s):i[u]=[i[u],s]:i[u]=s}return i}var Br={parse:Kr,resolve:function(t,e){return Kr(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Kr(t,!1,!0).resolveObject(e):e},format:function(t){return Bt(t)&&(t=$r({},t)),Jr(t)},Url:xr};function xr(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var Lr=/^([a-z0-9.+-]+:)/i,Dr=/:[0-9]*$/,Ur=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Mr="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),jr=["'"].concat(Mr),Wr=["%","/","?",";","#"].concat(jr),Yr=["/","?","#"],zr=/^[+a-z0-9A-Z_-]{0,63}$/,Gr=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Vr={javascript:!0,"javascript:":!0},Hr={javascript:!0,"javascript:":!0},qr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Kr(t,e,r){if(t&&Dt(t)&&t instanceof xr)return t;var n=new xr;return n.parse(t,e,r),n}function $r(t,e,r,n){if(!Bt(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=-1!==i&&i<e.indexOf("#")?"?":"#",(e=e.split(i))[0]=e[0].replace(/\\/g,"/"),i=(e=e.join(i)).trim(),!n&&1===e.split("#").length&&(e=Ur.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=r?Nr(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t;if(e=Lr.exec(i)){var o=(e=e[0]).toLowerCase();t.protocol=o,i=i.substr(e.length)}if(n||e||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||e&&Hr[e]||(i=i.substr(2),t.slashes=!0)}if(!Hr[e]&&(s||e&&!qr[e])){for(e=-1,n=0;n<Yr.length;n++)-1!==(s=i.indexOf(Yr[n]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?i.lastIndexOf("@"):i.lastIndexOf("@",e))&&(n=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(n)),e=-1,n=0;n<Wr.length;n++)-1!==(s=i.indexOf(Wr[n]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),Xr(t),t.hostname=t.hostname||"",!(s="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1])){var a=t.hostname.split(/\./);for(n=0,e=a.length;n<e;n++){var u=a[n];if(u&&!u.match(zr)){for(var h="",c=0,f=u.length;c<f;c++)h=127<u.charCodeAt(c)?h+"x":h+u[c];if(!h.match(zr)){e=a.slice(0,n),n=a.slice(n+1),(u=u.match(Gr))&&(e.push(u[1]),n.unshift(u[2])),n.length&&(i="/"+n.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>255?"":t.hostname.toLowerCase(),s||(t.hostname=function(t){return function(t,e){var r=t.split("@"),n="";1<r.length&&(n=r[0]+"@",t=r[1]),r=(t=(t=t.replace(Rr,".")).split(".")).length;for(var i=[];r--;)i[r]=e(t[r]);return n+i.join(".")}(t,(function(t){if(Sr.test(t)){var e,r=[],n=[],i=0;for(e=t.length;i<e;){var o=t.charCodeAt(i++);if(55296<=o&&56319>=o&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&o)<<10)+(1023&s)+65536):(n.push(o),i--)}else n.push(o)}s=(t=n).length,n=128;var a=0,u=72;for(o=0;o<s;++o){var h=t[o];128>h&&r.push(Or(h))}for((i=e=r.length)&&r.push("-");i<s;){var c=2147483647;for(o=0;o<s;++o)(h=t[o])>=n&&h<c&&(c=h);var f=i+1;if(c-n>Ar((2147483647-a)/f))throw new RangeError(Tr);for(a+=(c-n)*f,n=c,o=0;o<s;++o){if((h=t[o])<n&&2147483647<++a)throw new RangeError(Tr);if(h==n){var l=a;for(c=36;!(l<(h=c<=u?1:c>=u+26?26:c-u));c+=36){var p=l-h;l=36-h,r.push(Or(Cr(h+p%l,0))),l=Ar(p/l)}for(r.push(Or(Cr(l,0))),u=f,c=0,a=i==e?Ar(a/700):a>>1,a+=Ar(a/u);455<a;c+=36)a=Ar(a/35);u=Ar(c+36*a/(a+38)),a=0,++i}}++a,++n}r="xn--"+r.join("")}else r=t;return r}))}(t.hostname)),n=t.port?":"+t.port:"",t.host=(t.hostname||"")+n,t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!Vr[o])for(n=0,e=jr.length;n<e;n++)s=jr[n],-1!==i.indexOf(s)&&((u=encodeURIComponent(s))===s&&(u=escape(s)),i=i.split(s).join(u));return-1!==(n=i.indexOf("#"))&&(t.hash=i.substr(n),i=i.slice(0,n)),-1!==(n=i.indexOf("?"))?(t.search=i.substr(n),t.query=i.substr(n+1),r&&(t.query=Nr(t.query)),i=i.slice(0,n)):r&&(t.search="",t.query={}),i&&(t.pathname=i),qr[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(n=t.pathname||"",t.path=n+(t.search||"")),t.href=Jr(t),t}function Jr(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&Dt(t.query)&&Object.keys(t.query).length&&(s=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?kr(Fr(t),(function(n){var i=encodeURIComponent(Pr(n))+r;return Ir(t[n])?kr(t[n],(function(t){return i+encodeURIComponent(Pr(t))})).join(e):i+encodeURIComponent(Pr(t[n]))})).join(e):""}(t.query)),e=t.search||s&&"?"+s||"",r&&":"!==r.substr(-1)&&(r+=":"),t.slashes||(!r||qr[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),r+o+n+(e=e.replace("#","%23"))+i}function Xr(t){var e=t.host,r=Dr.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}xr.prototype.parse=function(t,e,r){return $r(this,t,e,r)},xr.prototype.format=function(){return Jr(this)},xr.prototype.resolve=function(t){return this.resolveObject(Kr(t,!1,!0)).format()},xr.prototype.resolveObject=function(t){if(Bt(t)){var e=new xr;e.parse(t,!1,!0),t=e}e=new xr;for(var r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(r=Object.keys(t),n=0;n<r.length;n++)"protocol"!==(i=r[n])&&(e[i]=t[i]);return qr[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!qr[t.protocol]){for(r=Object.keys(t),n=0;n<r.length;n++)e[i=r[n]]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Hr[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}r=e.pathname&&"/"===e.pathname.charAt(0);var s=t.host||t.pathname&&"/"===t.pathname.charAt(0),a=r=s||r||e.host&&t.pathname;if(n=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!qr[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),r=r&&(""===o[0]||""===n[0])),s)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,n=o;else if(o.length)n||(n=[]),n.pop(),n=n.concat(o),e.search=t.search,e.query=t.query;else if(null!=t.search)return i&&(e.hostname=e.host=n.shift(),i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!n.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=n.slice(-1)[0],o=(e.host||t.host||1<n.length)&&("."===s||".."===s)||""===s;for(var u=0,h=n.length;0<=h;h--)"."===(s=n[h])?n.splice(h,1):".."===s?(n.splice(h,1),u++):u&&(n.splice(h,1),u--);if(!r&&!a)for(;u--;u)n.unshift("..");return!r||""===n[0]||n[0]&&"/"===n[0].charAt(0)||n.unshift(""),o&&"/"!==n.join("/").substr(-1)&&n.push(""),a=""===n[0]||n[0]&&"/"===n[0].charAt(0),i&&(e.hostname=e.host=a?"":n.length?n.shift():"",i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(r=r||e.host&&n.length)&&!a&&n.unshift(""),n.length?e.pathname=n.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},xr.prototype.parseHost=function(){return Xr(this)};var Zr=u((function(t,e){function r(t,e){return t=t[e],0<e&&("/"===t||i&&"\\"===t)}function n(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var n=t;if("string"!=typeof n)throw new TypeError("expected a string");if(n=n.replace(/[\\\/]+/g,"/"),!1!==e)if(2>(n=(e=n).length-1))n=e;else{for(;r(e,n);)n--;n=e.substr(0,n+1)}return n.replace(/^([a-zA-Z]+:|\.\/)/,"")}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=n,e.correctPath=function(t){return n(t.replace(/^\\\\\?\\.:\\/,"\\"))};var i="win32"===gt.platform}));a(Zr);var Qr=u((function(t,e){function r(t,e){return void 0===e&&(e=Ee.default.cwd()),B(e,t)}function n(t,e){return"function"==typeof t?[i(),t]:[i(t),p(e)]}function i(t){return void 0===t&&(t={}),N({},lt,t)}function o(t){return N({},ut,"number"==typeof t?{mode:t}:t)}function a(t,e,r,n,i){return void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n=""),void 0===i&&(i=Error),e=new i(function(t,e,r,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n="");var i="";switch(r&&(i=" '"+r+"'"),n&&(i+=" -> '"+n+"'"),t){case"ENOENT":return"ENOENT: no such file or directory, "+e+i;case"EBADF":return"EBADF: bad file descriptor, "+e+i;case"EINVAL":return"EINVAL: invalid argument, "+e+i;case"EPERM":return"EPERM: operation not permitted, "+e+i;case"EPROTO":return"EPROTO: protocol error, "+e+i;case"EEXIST":return"EEXIST: file already exists, "+e+i;case"ENOTDIR":return"ENOTDIR: not a directory, "+e+i;case"EISDIR":return"EISDIR: illegal operation on a directory, "+e+i;case"EACCES":return"EACCES: permission denied, "+e+i;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+e+i;case"EMFILE":return"EMFILE: too many open files, "+e+i;case"ENOSYS":return"ENOSYS: function not implemented, "+e+i;default:return t+": error occurred, "+e+i}}(t,e,r,n)),e.code=t,e}function u(t){if("number"==typeof t)return t;if("string"==typeof t){var e=F[t];if(void 0!==e)return e}throw new le.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function c(t,e){if(!e)return t;var r=typeof e;switch(r){case"string":t=N({},t,{encoding:e});break;case"object":t=N({},t,e);break;default:throw TypeError("Expected options to be either an object or a string, but got "+r+" instead")}return"buffer"!==t.encoding&&pe.assertEncoding(t.encoding),t}function l(t){return function(e){return c(t,e)}}function p(t){if("function"!=typeof t)throw TypeError(J.CB);return t}function d(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),p(r)]}}function y(t){if("string"!=typeof t&&!Q.Buffer.isBuffer(t)){try{if(!(t instanceof Br.URL))throw new TypeError(J.PATH_STR)}catch(t){throw new TypeError(J.PATH_STR)}if(""!==t.hostname)throw new le.TypeError("ERR_INVALID_FILE_URL_HOST",Ee.default.platform);t=t.pathname;for(var e=0;e<t.length;e++)if("%"===t[e]){var r=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===r)throw new le.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}t=decodeURIComponent(t)}return b(t=String(t)),t}function m(t,e){return(t=r(t,e).substr(1))?t.split(q):[]}function g(t){return m(y(t))}function v(t,e){return void 0===e&&(e=pe.ENCODING_UTF8),Q.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Q.bufferFrom(t):Q.bufferFrom(String(t),e)}function w(t,e){return e&&"buffer"!==e?t.toString(e):t}function b(t,e){if(-1!==(""+t).indexOf("\0")){if((t=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof e)throw t;return Ee.default.nextTick(e,t),!1}return!0}function _(t,e){if("number"!=typeof(t="number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?_(e):void 0)||isNaN(t))throw new TypeError(J.MODE_INT);return t}function E(t){if(t>>>0!==t)throw TypeError(J.FD)}function S(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return 0>t?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function R(t){if("number"!=typeof t)throw TypeError(J.UID)}function T(t){if("number"!=typeof t)throw TypeError(J.GID)}function A(t){t.emit("stop")}function O(t,e,r){if(!(this instanceof O))return new O(t,e,r);if(this._vol=t,void 0===(r=N({},c(r,{}))).highWaterMark&&(r.highWaterMark=65536),wr.Readable.call(this,r),this.path=y(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function C(){this.close()}function I(t,e,r){if(!(this instanceof I))return new I(t,e,r);if(this._vol=t,r=N({},c(r,{})),wr.Writable.call(this,r),this.path=y(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}var P=s&&s.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=s&&s.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var F,N=_r,B=we,x=h.constants.O_RDONLY,L=h.constants.O_WRONLY,D=h.constants.O_RDWR,U=h.constants.O_CREAT,M=h.constants.O_EXCL,j=h.constants.O_TRUNC,W=h.constants.O_APPEND,Y=h.constants.O_SYNC,z=h.constants.O_DIRECTORY,G=h.constants.F_OK,V=h.constants.COPYFILE_EXCL,H=h.constants.COPYFILE_FICLONE_FORCE,q="/",K=ve,$="win32"===Ee.default.platform,J={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};!function(t){t[t.r=x]="r",t[t["r+"]=D]="r+",t[t.rs=x|Y]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=D|Y]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=L|U|j]="w",t[t.wx=L|U|j|M]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=D|U|j]="w+",t[t["wx+"]=D|U|j|M]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=L|W|U]="a",t[t.ax=L|W|U|M]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=D|W|U]="a+",t[t["ax+"]=D|W|U|M]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(F=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=u;var X=l(t={encoding:"utf8"}),Z=d(X),tt=l({flag:"r"}),et={encoding:"utf8",mode:438,flag:F[F.w]},rt=l(et),nt={encoding:"utf8",mode:438,flag:F[F.a]},it=l(nt),ot=d(it),st=l(t),at=d(st),ut={mode:511,recursive:!1},ht={recursive:!1},ct=l({encoding:"utf8",withFileTypes:!1}),ft=d(ct),lt={bigint:!1};if(e.pathToFilename=y,$){var pt=r,dt=Zr.unixify;r=function(t,e){return dt(pt(t,e))}}e.filenameToSteps=m,e.pathToSteps=g,e.dataToStr=function(t,e){return void 0===e&&(e=pe.ENCODING_UTF8),Q.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?Q.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=v,e.bufferToEncoding=w,e.toUnixTimestamp=S,t=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=Er.default(this),this.statWatchers={},this.props=N({Node:Ie.Node,Link:Ie.Link,File:Ie.File},t),(t=this.createLink()).setNode(this.createNode(!0));var e=this;this.StatWatcher=function(t){function r(){return t.call(this,e)||this}return P(r,t),r}(mt),this.ReadStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,k([e],r))||this}return P(r,t),r}(O),this.WriteStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,k([e],r))||this}return P(r,t),r}(I),this.FSWatcher=function(t){function r(){return t.call(this,e)||this}return P(r,t),r}(gt),this.root=t}return t.fromJSON=function(e,r){var n=new t;return n.fromJSON(e,r),n},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,r,n){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,n))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){return void 0===t&&(t=!1),e=new this.props.Node(this.newInoNumber(),e),t&&e.setIsDirectory(),this.inodes[e.ino]=e},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=m(t);if(!(r=this.getLink(r)))throw a("ENOENT",e,t);return r},t.prototype.getResolvedLink=function(t){t="string"==typeof t?m(t):t;for(var e=this.root,r=0;r<t.length;){if(!(e=e.getChild(t[r])))return null;var n=e.getNode();n.isSymlink()?(t=n.symlink.concat(t.slice(r+1)),e=this.root,r=0):r++}return e},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw a("ENOENT",e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw a("ENOTDIR",e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){t=t instanceof Array?t:m(t);var r=this.getLinkParent(t);if(!r)throw a("ENOENT",e,q+t.join(q));if(!r.getNode().isDirectory())throw a("ENOTDIR",e,q+t.join(q));return r},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(t>>>0!==t)throw TypeError(J.FD);if(!(t=this.getFileByFd(t)))throw a("EBADF",e);return t},t.prototype.getNodeByIdOrCreate=function(t,e,r){if("number"==typeof t){if(!(t=this.getFileByFd(t)))throw Error("File nto found");return t.node}var n=g(t),i=this.getLink(n);if(i)return i.getNode();if(e&U&&(e=this.getLinkParent(n)))return(i=this.createLink(e,n[n.length-1],!1,r)).getNode();throw a("ENOENT","getNodeByIdOrCreate",y(t))},t.prototype.wrapAsync=function(t,e,r){var n=this;p(r),_e.default((function(){try{r(null,t.apply(n,e))}catch(t){r(t)}}))},t.prototype._toJSON=function(t,e,r){var n;void 0===t&&(t=this.root),void 0===e&&(e={});var i=!0,o=t.children;for(var s in t.getNode().isFile()&&((n={})[t.getName()]=t.parent.getChild(t.getName()),o=n,t=t.parent),o){if(i=!1,!(o=t.getChild(s)))throw Error("_toJSON: unexpected undefined");(n=o.getNode()).isFile()?(o=o.getPath(),r&&(o=K(r,o)),e[o]=n.getString()):n.isDirectory()&&this._toJSON(o,e,r)}return t=t.getPath(),r&&(t=K(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var n=[];if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=y(t[i]);(o=this.getResolvedLink(o))&&n.push(o)}}else n.push(this.root);if(!n.length)return e;for(i=0;i<n.length;i++)o=n[i],this._toJSON(o,e,r?o.getPath():"");return e},t.prototype.fromJSON=function(t,e){for(var n in void 0===e&&(e=Ee.default.cwd()),t){var i=t[n];if("string"==typeof i){var o=m(n=r(n,e));1<o.length&&(o=q+o.slice(0,o.length-1).join(q),this.mkdirpBase(o,511)),this.writeFileSync(n,i)}else this.mkdirpBase(n,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw a("EMFILE","open",t.getPath());var n=t;if(r&&(n=this.resolveSymlinks(t)),!n)throw a("ENOENT","open",t.getPath());if((r=n.getNode()).isDirectory()){if((e&(x|D|L))!==x)throw a("EISDIR","open",t.getPath())}else if(e&z)throw a("ENOTDIR","open",t.getPath());if(!(e&L||r.canRead()))throw a("EACCES","open",t.getPath());return t=new this.props.File(t,r,e,this.newFdNumber()),this.fds[t.fd]=t,this.openFiles++,e&j&&t.truncate(),t},t.prototype.openFile=function(t,e,r,n){void 0===n&&(n=!0);var i=m(t),o=n?this.getResolvedLink(i):this.getLink(i);if(!o&&e&U){var s=this.getResolvedLink(i.slice(0,i.length-1));if(!s)throw a("ENOENT","open",q+i.join(q));e&U&&"number"==typeof r&&(o=this.createLink(s,i[i.length-1],!1,r))}if(o)return this.openLink(o,e,n);throw a("ENOENT","open",t)},t.prototype.openBase=function(t,e,r,n){if(void 0===n&&(n=!0),!(e=this.openFile(t,e,r,n)))throw a("ENOENT","open",t);return e.fd},t.prototype.openSync=function(t,e,r){return void 0===r&&(r=438),r=_(r),t=y(t),e=u(e),this.openBase(t,e,r)},t.prototype.open=function(t,e,r,n){var i=r;"function"==typeof r&&(i=438,n=r),r=_(i||438),t=y(t),e=u(e),this.wrapAsync(this.openBase,[t,e,r],n)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){E(t),t=this.getFileByFdOrThrow(t,"close"),this.closeFile(t)},t.prototype.close=function(t,e){E(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"==typeof t){if(!(t=this.fds[t]))throw a("ENOENT");return t}return this.openFile(y(t),e,r)},t.prototype.readBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(n),i)},t.prototype.readSync=function(t,e,r,n,i){return E(t),this.readBase(t,e,r,n,i)},t.prototype.read=function(t,e,r,n,i,o){var s=this;if(p(o),0===n)return Ee.default.nextTick((function(){o&&o(null,0,e)}));_e.default((function(){try{var a=s.readBase(t,e,r,n,i);o(null,a,e)}catch(t){o(t)}}))},t.prototype.readFileBase=function(t,e,r){var n="number"==typeof t&&t>>>0===t;if(!n){var i=y(t);if(i=m(i),(i=this.getResolvedLink(i))&&i.getNode().isDirectory())throw a("EISDIR","open",i.getPath());t=this.openSync(t,e)}try{var o=w(this.getFileByFdOrThrow(t).getBuffer(),r)}finally{n||this.closeSync(t)}return o},t.prototype.readFileSync=function(t,e){var r=u((e=tt(e)).flag);return this.readFileBase(t,r,e.encoding)},t.prototype.readFile=function(t,e,r){e=(r=d(tt)(e,r))[0],r=r[1];var n=u(e.flag);this.wrapAsync(this.readFileBase,[t,n,e.encoding],r)},t.prototype.writeBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t,"write").write(e,r,n,i)},t.prototype.writeSync=function(t,e,r,n,i){E(t);var o="string"!=typeof e;if(o){var s=0|(r||0),a=n;r=i}else var u=n;return e=v(e,u),o?void 0===a&&(a=e.length):(s=0,a=e.length),this.writeBase(t,e,s,a,r)},t.prototype.write=function(t,e,r,n,i,o){var s=this;E(t);var a=typeof e,u=typeof r,h=typeof n,c=typeof i;if("string"!==a)if("function"===u)var f=r;else if("function"===h){var l=0|r;f=n}else if("function"===c){l=0|r;var d=n;f=i}else{l=0|r,d=n;var y=i;f=o}else if("function"===u)f=r;else if("function"===h)y=r,f=n;else if("function"===c){y=r;var m=n;f=i}var g=v(e,m);"string"!==a?void 0===d&&(d=g.length):(l=0,d=g.length);var w=p(f);_e.default((function(){try{var r=s.writeBase(t,g,l,d,y);w(null,r,"string"!==a?g:e)}catch(t){w(t)}}))},t.prototype.writeFileBase=function(t,e,r,n){var i="number"==typeof t;t=i?t:this.openBase(y(t),r,n),n=0;var o=e.length;r=r&W?void 0:0;try{for(;0<o;){var s=this.writeSync(t,e,n,o,r);n+=s,o-=s,void 0!==r&&(r+=s)}}finally{i||this.closeSync(t)}},t.prototype.writeFileSync=function(t,e,r){var n=rt(r);r=u(n.flag);var i=_(n.mode);e=v(e,n.encoding),this.writeFileBase(t,e,r,i)},t.prototype.writeFile=function(t,e,r,n){var i=r;"function"==typeof r&&(i=et,n=r),r=p(n);var o=rt(i);i=u(o.flag),n=_(o.mode),e=v(e,o.encoding),this.wrapAsync(this.writeFileBase,[t,e,i,n],r)},t.prototype.linkBase=function(t,e){var r=m(t),n=this.getLink(r);if(!n)throw a("ENOENT","link",t,e);var i=m(e);if(!(r=this.getLinkParent(i)))throw a("ENOENT","link",t,e);if(i=i[i.length-1],r.getChild(i))throw a("EEXIST","link",t,e);(t=n.getNode()).nlink++,r.createChild(i,t)},t.prototype.copyFileBase=function(t,e,r){var n=this.readFileSync(t);if(r&V&&this.existsSync(e))throw a("EEXIST","copyFile",t,e);if(r&H)throw a("ENOSYS","copyFile",t,e);this.writeFileBase(e,n,F.w,438)},t.prototype.copyFileSync=function(t,e,r){return t=y(t),e=y(e),this.copyFileBase(t,e,0|(r||0))},t.prototype.copyFile=function(t,e,r,n){if(t=y(t),e=y(e),"function"==typeof r)var i=0;else i=r,r=n;p(r),this.wrapAsync(this.copyFileBase,[t,e,i],r)},t.prototype.linkSync=function(t,e){t=y(t),e=y(e),this.linkBase(t,e)},t.prototype.link=function(t,e,r){t=y(t),e=y(e),this.wrapAsync(this.linkBase,[t,e],r)},t.prototype.unlinkBase=function(t){var e=m(t);if(!(e=this.getLink(e)))throw a("ENOENT","unlink",t);if(e.length)throw Error("Dir not empty...");this.deleteLink(e),(t=e.getNode()).nlink--,0>=t.nlink&&this.deleteNode(t)},t.prototype.unlinkSync=function(t){t=y(t),this.unlinkBase(t)},t.prototype.unlink=function(t,e){t=y(t),this.wrapAsync(this.unlinkBase,[t],e)},t.prototype.symlinkBase=function(t,e){var r=m(e),n=this.getLinkParent(r);if(!n)throw a("ENOENT","symlink",t,e);if(r=r[r.length-1],n.getChild(r))throw a("EEXIST","symlink",t,e);return(e=n.createChild(r)).getNode().makeSymlink(m(t)),e},t.prototype.symlinkSync=function(t,e){t=y(t),e=y(e),this.symlinkBase(t,e)},t.prototype.symlink=function(t,e,r,n){r=p("function"==typeof r?r:n),t=y(t),e=y(e),this.wrapAsync(this.symlinkBase,[t,e],r)},t.prototype.realpathBase=function(t,e){var r=m(t);if(!(r=this.getResolvedLink(r)))throw a("ENOENT","realpath",t);return pe.strToEncoding(r.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(y(t),st(e).encoding)},t.prototype.realpath=function(t,e,r){e=(r=at(e,r))[0],r=r[1],t=y(t),this.wrapAsync(this.realpathBase,[t,e.encoding],r)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getLink(m(t));if(!r)throw a("ENOENT","lstat",t);return f.default.build(r.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(y(t),i(e).bigint)},t.prototype.lstat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.lstatBase,[y(t),e.bigint],r)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var r=this.getResolvedLink(m(t));if(!r)throw a("ENOENT","stat",t);return f.default.build(r.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(y(t),i(e).bigint)},t.prototype.stat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.statBase,[y(t),e.bigint],r)},t.prototype.fstatBase=function(t,e){if(void 0===e&&(e=!1),!(t=this.getFileByFd(t)))throw a("EBADF","fstat");return f.default.build(t.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,i(e).bigint)},t.prototype.fstat=function(t,e,r){e=n(e,r),this.wrapAsync(this.fstatBase,[t,e[0].bigint],e[1])},t.prototype.renameBase=function(t,e){var r=this.getLink(m(t));if(!r)throw a("ENOENT","rename",t,e);var n=m(e),i=this.getLinkParent(n);if(!i)throw a("ENOENT","rename",t,e);(t=r.parent)&&t.deleteChild(r),r.steps=k(i.steps,[n[n.length-1]]),i.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){t=y(t),e=y(e),this.renameBase(t,e)},t.prototype.rename=function(t,e,r){t=y(t),e=y(e),this.wrapAsync(this.renameBase,[t,e],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(y(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,n=y(t);if("function"!=typeof e)throw Error(J.CB);_e.default((function(){try{e(r.existsBase(n))}catch(t){e(!1)}}))},t.prototype.accessBase=function(t){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=G),t=y(t),this.accessBase(t,0|e)},t.prototype.access=function(t,e,r){var n=G;"function"!=typeof e&&(n=0|e,e=p(r)),t=y(t),this.wrapAsync(this.accessBase,[t,n],e)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=nt),(r=it(r)).flag&&t>>>0!==t||(r.flag="a"),this.writeFileSync(t,e,r)},t.prototype.appendFile=function(t,e,r,n){r=(n=ot(r,n))[0],n=n[1],r.flag&&t>>>0!==t||(r.flag="a"),this.writeFile(t,e,r,n)},t.prototype.readdirBase=function(t,e){var r=m(t);if(!(r=this.getResolvedLink(r)))throw a("ENOENT","readdir",t);if(!r.getNode().isDirectory())throw a("ENOTDIR","scandir",t);if(e.withFileTypes){var n=[];for(i in r.children)(t=r.getChild(i))&&n.push(de.default.build(t,e.encoding));return $||"buffer"===e.encoding||n.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),n}var i=[];for(n in r.children)i.push(pe.strToEncoding(n,e.encoding));return $||"buffer"===e.encoding||i.sort(),i},t.prototype.readdirSync=function(t,e){return e=ct(e),t=y(t),this.readdirBase(t,e)},t.prototype.readdir=function(t,e,r){e=(r=ft(e,r))[0],r=r[1],t=y(t),this.wrapAsync(this.readdirBase,[t,e],r)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw a("EINVAL","readlink",t);return t=q+r.symlink.join(q),pe.strToEncoding(t,e)},t.prototype.readlinkSync=function(t,e){return e=X(e),t=y(t),this.readlinkBase(t,e.encoding)},t.prototype.readlink=function(t,e,r){e=(r=Z(e,r))[0],r=r[1],t=y(t),this.wrapAsync(this.readlinkBase,[t,e.encoding],r)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var n="number"==typeof e?e:0;e=p("number"==typeof e?r:e),this.wrapAsync(this.ftruncateBase,[t,n],e)},t.prototype.truncateBase=function(t,e){t=this.openSync(t,"r+");try{this.ftruncateSync(t,e)}finally{this.closeSync(t)}},t.prototype.truncateSync=function(t,e){if(t>>>0===t)return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var n="number"==typeof e?e:0;if(e=p("number"==typeof e?r:e),t>>>0===t)return this.ftruncate(t,n,e);this.wrapAsync(this.truncateBase,[t,n],e)},t.prototype.futimesBase=function(t,e,r){(t=this.getFileByFdOrThrow(t,"futimes").node).atime=new Date(1e3*e),t.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,S(e),S(r))},t.prototype.futimes=function(t,e,r,n){this.wrapAsync(this.futimesBase,[t,S(e),S(r)],n)},t.prototype.utimesBase=function(t,e,r){t=this.openSync(t,"r+");try{this.futimesBase(t,e,r)}finally{this.closeSync(t)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(y(t),S(e),S(r))},t.prototype.utimes=function(t,e,r,n){this.wrapAsync(this.utimesBase,[y(t),S(e),S(r)],n)},t.prototype.mkdirBase=function(t,e){var r=m(t);if(!r.length)throw a("EISDIR","mkdir",t);var n=this.getLinkParentAsDirOrThrow(t,"mkdir");if(r=r[r.length-1],n.getChild(r))throw a("EEXIST","mkdir",t);n.createChild(r,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){t=m(t);for(var r=this.root,n=0;n<t.length;n++){var i=t[n];if(!r.getNode().isDirectory())throw a("ENOTDIR","mkdir",r.getPath());var o=r.getChild(i);if(o){if(!o.getNode().isDirectory())throw a("ENOTDIR","mkdir",o.getPath());r=o}else r=r.createChild(i,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var r=_((e=o(e)).mode,511);t=y(t),e.recursive?this.mkdirpBase(t,r):this.mkdirBase(t,r)},t.prototype.mkdir=function(t,e,r){var n=o(e);e=p("function"==typeof e?e:r),r=_(n.mode,511),t=y(t),n.recursive?this.wrapAsync(this.mkdirpBase,[t,r],e):this.wrapAsync(this.mkdirBase,[t,r],e)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var n="function"==typeof e?void 0:e;e=p("function"==typeof e?e:r),this.mkdir(t,{mode:n,recursive:!0},e)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var n=t+this.genRndStr();try{return this.mkdirBase(n,511),pe.strToEncoding(n,e)}catch(n){if("EEXIST"===n.code){if(1<r)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw n}},t.prototype.mkdtempSync=function(t,e){if(e=X(e).encoding,!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return b(t),this.mkdtempBase(t,e)},t.prototype.mkdtemp=function(t,e,r){if(e=(r=Z(e,r))[0].encoding,r=r[1],!t||"string"!=typeof t)throw new TypeError("filename prefix is required");b(t)&&this.wrapAsync(this.mkdtempBase,[t,e],r)},t.prototype.rmdirBase=function(t,e){e=N({},ht,e);var r=this.getLinkAsDirOrThrow(t,"rmdir");if(r.length&&!e.recursive)throw a("ENOTEMPTY","rmdir",t);this.deleteLink(r)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(y(t),e)},t.prototype.rmdir=function(t,e,r){var n=N({},ht,e);e=p("function"==typeof e?e:r),this.wrapAsync(this.rmdirBase,[y(t),n],e)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,_(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,_(e)],r)},t.prototype.chmodBase=function(t,e){t=this.openSync(t,"r+");try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.chmodSync=function(t,e){e=_(e),t=y(t),this.chmodBase(t,e)},t.prototype.chmod=function(t,e,r){e=_(e),t=y(t),this.wrapAsync(this.chmodBase,[t,e],r)},t.prototype.lchmodBase=function(t,e){t=this.openBase(t,D,0,!1);try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.lchmodSync=function(t,e){e=_(e),t=y(t),this.lchmodBase(t,e)},t.prototype.lchmod=function(t,e,r){e=_(e),t=y(t),this.wrapAsync(this.lchmodBase,[t,e],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){R(e),T(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,n){R(e),T(r),this.wrapAsync(this.fchownBase,[t,e,r],n)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){R(e),T(r),this.chownBase(y(t),e,r)},t.prototype.chown=function(t,e,r,n){R(e),T(r),this.wrapAsync(this.chownBase,[y(t),e,r],n)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){R(e),T(r),this.lchownBase(y(t),e,r)},t.prototype.lchown=function(t,e,r,n){R(e),T(r),this.wrapAsync(this.lchownBase,[y(t),e,r],n)},t.prototype.watchFile=function(t,e,r){t=y(t);var n=e;if("function"==typeof n&&(r=e,n=null),"function"!=typeof r)throw Error('"watchFile()" requires a listener function');e=5007;var i=!0;return n&&"object"==typeof n&&("number"==typeof n.interval&&(e=n.interval),"boolean"==typeof n.persistent&&(i=n.persistent)),(n=this.statWatchers[t])||((n=new this.StatWatcher).start(t,i,e),this.statWatchers[t]=n),n.addListener("change",r),n},t.prototype.unwatchFile=function(t,e){t=y(t);var r=this.statWatchers[t];r&&("function"==typeof e?r.removeListener("change",e):r.removeAllListeners("change"),0===r.listenerCount("change")&&(r.stop(),delete this.statWatchers[t]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){t=y(t);var n=e;"function"==typeof e&&(r=e,n=null);var i=X(n);e=i.persistent,n=i.recursive,i=i.encoding,void 0===e&&(e=!0),void 0===n&&(n=!1);var o=new this.FSWatcher;return o.start(t,e,n,i),r&&o.addListener("change",r),o},t.fd=2147483647,t}(),e.Volume=t;var yt,mt=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return P(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=5007),this.filename=y(t),this.setTimeout=e?setTimeout:ke.default,this.interval=r,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),Ee.default.nextTick(A,this)},e}(Re.EventEmitter);e.StatWatcher=mt,Ht.inherits(O,wr.Readable),e.ReadStream=O,O.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,(function(e,r){e?(t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))},O.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(t)}));if(!this.destroyed){(!yt||128>yt.length-yt.used)&&((yt=Q.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var e=yt,r=Math.min(yt.length-yt.used,t),n=yt.used;if(void 0!==this.pos&&(r=Math.min(this.end-this.pos+1,r)),0>=r)return this.push(null);var i=this;this._vol.read(this.fd,yt,yt.used,r,this.pos,(function(t,r){t?(i.autoClose&&i.destroy&&i.destroy(),i.emit("error",t)):(t=null,0<r&&(i.bytesRead+=r,t=e.slice(n,n+r)),i.push(t))})),void 0!==this.pos&&(this.pos+=r),yt.used+=r}},O.prototype._destroy=function(t,e){this.close((function(r){e(t||r)}))},O.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",C):Ee.default.nextTick((function(){return e.emit("close")}));this.closed=!0,this._vol.close(this.fd,(function(t){t?e.emit("error",t):e.emit("close")})),this.fd=null},Ht.inherits(I,wr.Writable),e.WriteStream=I,I.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(t,e){t?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t)):(this.fd=e,this.emit("open",e))}.bind(this))},I.prototype._write=function(t,e,r){if(!(t instanceof Q.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(t,e,r)}));var n=this;this._vol.write(this.fd,t,0,t.length,this.pos,(function(t,e){if(t)return n.autoClose&&n.destroy&&n.destroy(),r(t);n.bytesWritten+=e,r()})),void 0!==this.pos&&(this.pos+=t.length)},I.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(t,e)}));for(var r=this,n=t.length,i=Array(n),o=0,s=0;s<n;s++){var a=t[s].chunk;i[s]=a,o+=a.length}n=Q.Buffer.concat(i),this._vol.write(this.fd,n,0,n.length,this.pos,(function(t,n){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=n,e()})),void 0!==this.pos&&(this.pos+=o)},I.prototype._destroy=O.prototype._destroy,I.prototype.close=O.prototype.close,I.prototype.destroySoon=I.prototype.end;var gt=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=pe.ENCODING_UTF8,r._onNodeChange=function(){r._emit("change")},r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return P(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,n){void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===n&&(n=pe.ENCODING_UTF8),this._filename=y(t),this._steps=m(this._filename),this._filenameEncoded=pe.strToEncoding(this._filename),this._recursive=r,this._encoding=n;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){throw(e=Error("watch "+this._filename+" "+t.code)).code=t.code,e.errno=t.code,e}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(t=this._link.parent)&&(t.setMaxListeners(t.getMaxListeners()+1),t.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(Re.EventEmitter);e.FSWatcher=gt}));a(Qr);var tn=Qr.pathToFilename,en=Qr.filenameToSteps,rn=Qr.Volume,nn=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")}));a(nn);var on=u((function(t,e){function r(t){for(var e={F_OK:a,R_OK:u,W_OK:c,X_OK:l,constants:h.constants,Stats:f.default,Dirent:de.default},r=0,n=i;r<n.length;r++){var s=n[r];"function"==typeof t[s]&&(e[s]=t[s].bind(t))}for(r=0,n=o;r<n.length;r++)"function"==typeof t[s=n[r]]&&(e[s]=t[s].bind(t));return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=Qr.toUnixTimestamp,e}var n=s&&s.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=nn.fsSyncMethods,o=nn.fsAsyncMethods,a=h.constants.F_OK,u=h.constants.R_OK,c=h.constants.W_OK,l=h.constants.X_OK;e.Volume=Qr.Volume,e.vol=new Qr.Volume,e.createFsFromVolume=r,e.fs=r(e.vol),t.exports=n(n({},t.exports),e.fs),t.exports.semantic=!0}));a(on);var sn=on.createFsFromVolume;Pe.prototype.emit=function(t){for(var e,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];s=this.listeners(t);try{for(var a=n(s),u=a.next();!u.done;u=a.next()){var h=u.value;try{h.apply(void 0,o(i))}catch(t){console.error(t)}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0<s.length};var an=function(){function t(){this.volume=new rn,this.fs=sn(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(t,e,r){void 0===e&&(e={});var n,i=!0;for(n in t.children){i=!1;var o=t.getChild(n);if(o){var s=o.getNode();s&&s.isFile()?(o=o.getPath(),r&&(o=ge(r,o)),e[o]=s.getBuffer()):s&&s.isDirectory()&&this._toJSON(o,e,r)}}return t=t.getPath(),r&&(t=ge(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){var i,o;void 0===e&&(e={}),void 0===r&&(r=!1);var s=[];if(t){t instanceof Array||(t=[t]);try{for(var a=n(t),u=a.next();!u.done;u=a.next()){var h=tn(u.value),c=this.volume.getResolvedLink(h);c&&s.push(c)}}catch(t){var f={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(f)throw f.error}}}else s.push(this.volume.root);if(!s.length)return e;try{for(var l=n(s),p=l.next();!p.done;p=l.next())c=p.value,this._toJSON(c,e,r?c.getPath():"")}catch(t){var d={error:t}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(d)throw d.error}}return e},t.prototype.fromJSONFixed=function(t,e){for(var r in e){var n=e[r];if(n?null!==Object.getPrototypeOf(n):null!==n){var i=en(r);1<i.length&&(i="/"+i.slice(0,i.length-1).join("/"),t.mkdirpBase(i,511)),t.writeFileSync(r,n||"")}else t.mkdirpBase(r,511)}},t.prototype.fromJSON=function(t){this.volume=new rn,this.fromJSONFixed(this.volume,t),this.fs=sn(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var e=this.volume.openSync("/dev/stdout","w"),r=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==e)throw Error("invalid handle for stdout: "+e);if(0!==r)throw Error("invalid handle for stdin: "+r)},t.prototype.getStdOut=function(){return function(t,e,r,n){return new(r||(r=Promise))((function(e,i){function o(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(o,s)}a((n=n.apply(t,[])).next())}))}(this,0,void 0,(function(){var t=this;return function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!((s=0<(s=u.trys).length&&s[s.length-1])||6!==r[0]&&2!==r[0])){u=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3]))u.label=r[1];else if(6===r[0]&&u.label<s[1])u.label=s[1],s=r;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(r)}}r=e.call(t,u)}catch(t){r=[6,t],o=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,(function(){return[2,new Promise((function(e){e(t.fs.readFileSync("/dev/stdout","utf8"))}))]}))}))},t}();const un=an},66:t=>{t.exports=function(t,r){if(t.map)return t.map(r);for(var n=[],i=0;i<t.length;i++){var o=t[i];e.call(t,i)&&n.push(r(o,i,t))}return n};var e=Object.prototype.hasOwnProperty},814:t=>{t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},393:(t,e,r)=>{t.exports=function(t,e){return e?"string"==typeof e&&(e={startRule:e}):e={},n.parse(t,e)};var n=function(){function t(t,e,r,n,i,o){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=i,this.column=o,this.name="SyntaxError"}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:function e(n){var i,o=arguments.length>1?arguments[1]:{},s={},a={script:or,command:cr,argument:vr,continuationStart:Jr},u=or,h=s,c=function(t){var e=[];return Qr(t,(function(t){e=e.concat(t[1])})),e},f={type:"other",description:"a list of statements"},l=null,p=function(t,e,r){var n=[t],i=t;return Qr(e,(function(t,e,r){!function(t,e){for(;e.next;)e=e.next;e.control=t}(t[1],i),n.push(i=t[3])})),n},d=function(t,e){return void 0!==e&&e?(e=e[1],t.control=e[0],t.next=e[1]):(t.control=";",t.next=null),t},y="&&",m={type:"literal",value:"&&",description:'"&&"'},g="||",v={type:"literal",value:"||",description:'"||"'},w=function(t,e){return[t,e]},b="&",_={type:"literal",value:"&",description:'"&"'},E=";",S={type:"literal",value:";",description:'";"'},R="\n",T={type:"literal",value:"\n",description:'"\\n"'},A=function(t){return"\n"==t?";":t},O={type:"other",description:"a single command"},C=function(t,e,r,n){var i={type:"command",command:e,args:[],redirects:[],env:{},control:";",next:null};return Qr(t,rn).concat(Qr(r,nn)).forEach((function(t){if(t&&t.type)switch(t.type){case"moveFd":case"duplicateFd":case"redirectFd":return i.redirects.push(t);case"variableAssignment":return i.env[t.name]=t.value;default:i.args.push(t)}})),n&&i.redirects.push(n[1]),i},I="while",P={type:"literal",value:"while",description:'"while"'},k="until",F={type:"literal",value:"until",description:'"until"'},N="do",B={type:"literal",value:"do",description:'"do"'},x="done",L={type:"literal",value:"done",description:'"done"'},D=function(t,e,r){return{type:t+"-loop",test:e,body:r}},U="if",M={type:"literal",value:"if",description:'"if"'},j="then",W={type:"literal",value:"then",description:'"then"'},Y="else",z={type:"literal",value:"else",description:'"else"'},G="fi",V={type:"literal",value:"fi",description:'"fi"'},H=function(t,e,r,n){return{type:"ifElse",test:t,body:e,elifBlocks:r.length?r:null,elseBody:n?n[1]:null}},q="elif",K={type:"literal",value:"elif",description:'"elif"'},$=function(t,e){return{type:"ifElse",test:t,body:e}},J=function(t){return t},X="=",Z={type:"literal",value:"=",description:'"="'},Q=function(t,e){return{type:"variableAssignment",name:t,value:e}},tt={type:"other",description:"command name"},et=void 0,rt=function(t){return t},nt="[",it={type:"literal",value:"[",description:'"["'},ot="[[",st={type:"literal",value:"[[",description:'"[["'},at={type:"other",description:"command argument"},ut=function(t){return on(t)},ht=function(t){return en(t)},ct="\\",ft={type:"literal",value:"\\",description:'"\\\\"'},lt=function(t){return t},pt={type:"any",description:"any character"},dt=/^[$"';&<>\n()[*?|` ]/,yt={type:"class",value:"[$\"';&<>\\n()[*?|` ]",description:"[$\"';&<>\\n()[*?|` ]"},mt="*",gt={type:"literal",value:"*",description:'"*"'},vt="?",wt={type:"literal",value:"?",description:'"?"'},bt=function(){return{type:"glob",value:er()}},_t="-",Et={type:"literal",value:"-",description:'"-"'},St="]",Rt={type:"literal",value:"]",description:'"]"'},Tt="$",At={type:"literal",value:"$",description:'"$"'},Ot="{",Ct={type:"literal",value:"{",description:'"{"'},It="}",Pt={type:"literal",value:"}",description:'"}"'},kt="'",Ft={type:"literal",value:"'",description:'"\'"'},Nt=/^[^']/,Bt={type:"class",value:"[^']",description:"[^']"},xt=function(t){return en(t)},Lt='"',Dt={type:"literal",value:'"',description:'"\\""'},Ut=function(t){return on(t.map((function(t){return Zr(t)?en(t):t})))},Mt="\\\\",jt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Wt=function(){return"\\"},Yt="`",zt={type:"literal",value:"`",description:'"`"'},Gt=function(t){return{type:"variable",name:t}},Vt=/^[a-zA-Z0-9_]/,Ht={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},qt=function(){return er()},Kt="${",$t={type:"literal",value:"${",description:'"${"'},Jt=/^[^}]/,Xt={type:"class",value:"[^}]",description:"[^}]"},Zt=function(t){return{type:"variableSubstitution",expression:tn(t)}},Qt="$(",te={type:"literal",value:"$(",description:'"$("'},ee=")",re={type:"literal",value:")",description:'")"'},ne=function(t){return{type:"commandSubstitution",commands:t}},ie=function(t){return{type:"commandSubstitution",commands:e(t.join(""))}},oe="\\`",se={type:"literal",value:"\\`",description:'"\\\\`"'},ae=function(){return"`"},ue=/^[<>]/,he={type:"class",value:"[<>]",description:"[<>]"},ce="(",fe={type:"literal",value:"(",description:'"("'},le=function(t,e){return{type:"processSubstitution",readWrite:t,commands:e}},pe="|",de={type:"literal",value:"|",description:'"|"'},ye=function(t){return{type:"pipe",command:t}},me="<&",ge={type:"literal",value:"<&",description:'"<&"'},ve=">&",we={type:"literal",value:">&",description:'">&"'},be=function(t,e,r){return null==t&&(t="<"==e[0]?0:1),{type:"moveFd",fd:t,op:e,dest:r}},_e=function(t,e,r){return null==t&&(t="<"==e[0]?0:1),{type:"duplicateFd",srcFd:t,op:e,destFd:r}},Ee=function(t,e,r){return null==t&&(t="<"==e[0]?0:1),{type:"redirectFd",fd:t,op:e,filename:r}},Se="<",Re={type:"literal",value:"<",description:'"<"'},Te=">",Ae={type:"literal",value:">",description:'">"'},Oe=">|",Ce={type:"literal",value:">|",description:'">|"'},Ie="&>",Pe={type:"literal",value:"&>",description:'"&>"'},ke=">>",Fe={type:"literal",value:">>",description:'">>"'},Ne="&>>",Be={type:"literal",value:"&>>",description:'"&>>"'},xe=/^[0-9]/,Le={type:"class",value:"[0-9]",description:"[0-9]"},De=function(t){return parseInt(tn(t),10)},Ue=" ",Me={type:"literal",value:" ",description:'" "'},je="\t",We={type:"literal",value:"\t",description:'"\\t"'},Ye="for",ze={type:"literal",value:"for",description:'"for"'},Ge="case",Ve={type:"literal",value:"case",description:'"case"'},He="esac",qe={type:"literal",value:"esac",description:'"esac"'},Ke=0,$e=0,Je=0,Xe={line:1,column:1,seenCR:!1},Ze=0,Qe=[],tr=0;if("startRule"in o){if(!(o.startRule in a))throw new Error("Can't start parsing from rule \""+o.startRule+'".');u=a[o.startRule]}function er(){return n.substring($e,Ke)}function rr(t){return Je!==t&&(Je>t&&(Je=0,Xe={line:1,column:1,seenCR:!1}),function(t,e,r){var i,o;for(i=e;i<r;i++)"\n"===(o=n.charAt(i))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Xe,Je,t),Je=t),Xe}function nr(t){Ke<Ze||(Ke>Ze&&(Ze=Ke,Qe=[]),Qe.push(t))}function ir(e,r,i){var o=rr(i),s=i<n.length?n.charAt(i):null;return null!==r&&function(t){var e=1;for(t.sort((function(t,e){return t.description<e.description?-1:t.description>e.description?1:0}));e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==e?e:function(t,e){var r,n=new Array(t.length);for(r=0;r<t.length;r++)n[r]=t[r].description;return"Expected "+(t.length>1?n.slice(0,-1).join(", ")+" or "+n[t.length-1]:n[0])+" but "+(e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(t){return"\\x"+e(t)})).replace(/[\u0180-\u0FFF]/g,(function(t){return"\\u0"+e(t)})).replace(/[\u1080-\uFFFF]/g,(function(t){return"\\u"+e(t)}))}(e)+'"':"end of input")+" found."}(r,s),r,s,i,o.line,o.column)}function or(){var t,e,r,n,i,o,a;for(t=Ke,e=[],r=Ke,n=[],i=Kr();i!==s;)n.push(i),i=Kr();if(n!==s)if((i=sr())!==s){for(o=[],a=Kr();a!==s;)o.push(a),a=Kr();o!==s?r=n=[n,i,o]:(Ke=r,r=h)}else Ke=r,r=h;else Ke=r,r=h;if(r!==s)for(;r!==s;){for(e.push(r),r=Ke,n=[],i=Kr();i!==s;)n.push(i),i=Kr();if(n!==s)if((i=sr())!==s){for(o=[],a=Kr();a!==s;)o.push(a),a=Kr();o!==s?r=n=[n,i,o]:(Ke=r,r=h)}else Ke=r,r=h;else Ke=r,r=h}else e=h;return e!==s&&($e=t,e=c(e)),e}function sr(){var t,e,r,n,i,o,a,u;if(tr++,t=Ke,(e=ar())!==s){for(r=[],n=Ke,i=[],o=qr();o!==s;)i.push(o),o=qr();if(i!==s)if((o=hr())!==s){for(a=[],u=Kr();u!==s;)a.push(u),u=Kr();a!==s&&(u=ar())!==s?n=i=[i,o,a,u]:(Ke=n,n=h)}else Ke=n,n=h;else Ke=n,n=h;for(;n!==s;){for(r.push(n),n=Ke,i=[],o=qr();o!==s;)i.push(o),o=qr();if(i!==s)if((o=hr())!==s){for(a=[],u=Kr();u!==s;)a.push(u),u=Kr();a!==s&&(u=ar())!==s?n=i=[i,o,a,u]:(Ke=n,n=h)}else Ke=n,n=h;else Ke=n,n=h}if(r!==s){for(n=Ke,i=[],o=qr();o!==s;)i.push(o),o=qr();i!==s&&(o=hr())!==s?n=i=[i,o]:(Ke=n,n=h),n===s&&(n=l),n!==s?($e=t,t=e=p(e,r,n)):(Ke=t,t=h)}else Ke=t,t=h}else Ke=t,t=h;return tr--,t===s&&(e=s,0===tr&&nr(f)),t}function ar(){var t,e,r,n,i;if(t=Ke,(e=cr())===s&&(e=yr())===s&&(e=fr())===s&&(e=lr()),e!==s){for(r=Ke,n=[],i=qr();i!==s;)n.push(i),i=qr();n!==s&&(i=ur())!==s?r=n=[n,i]:(Ke=r,r=h),r===s&&(r=l),r!==s?($e=t,t=e=d(e,r)):(Ke=t,t=h)}else Ke=t,t=h;return t}function ur(){var t,e,r,i;if(t=Ke,n.substr(Ke,2)===y?(e=y,Ke+=2):(e=s,0===tr&&nr(m)),e===s&&(n.substr(Ke,2)===g?(e=g,Ke+=2):(e=s,0===tr&&nr(v))),e!==s){for(r=[],i=Kr();i!==s;)r.push(i),i=Kr();r!==s&&(i=ar())!==s?($e=t,t=e=w(e,i)):(Ke=t,t=h)}else Ke=t,t=h;return t}function hr(){var t,e;return t=Ke,38===n.charCodeAt(Ke)?(e=b,Ke++):(e=s,0===tr&&nr(_)),e===s&&(59===n.charCodeAt(Ke)?(e=E,Ke++):(e=s,0===tr&&nr(S)),e===s&&(10===n.charCodeAt(Ke)?(e=R,Ke++):(e=s,0===tr&&nr(T)))),e!==s&&($e=t,e=A(e)),e}function cr(){var t,e,r,n,i,o,a;if(tr++,t=Ke,e=[],r=Ke,(n=yr())===s&&(n=jr()),n!==s){if(i=[],(o=qr())!==s)for(;o!==s;)i.push(o),o=qr();else i=h;i!==s?r=n=[n,i]:(Ke=r,r=h)}else Ke=r,r=h;for(;r!==s;)if(e.push(r),r=Ke,(n=yr())===s&&(n=jr()),n!==s){if(i=[],(o=qr())!==s)for(;o!==s;)i.push(o),o=qr();else i=h;i!==s?r=n=[n,i]:(Ke=r,r=h)}else Ke=r,r=h;if(e!==s)if((r=mr())===s&&(r=gr()),r!==s){if(n=[],i=Ke,o=[],(a=qr())!==s)for(;a!==s;)o.push(a),a=qr();else o=h;for(o!==s?((a=jr())===s&&(a=vr()),a!==s?i=o=[o,a]:(Ke=i,i=h)):(Ke=i,i=h);i!==s;){if(n.push(i),i=Ke,o=[],(a=qr())!==s)for(;a!==s;)o.push(a),a=qr();else o=h;o!==s?((a=jr())===s&&(a=vr()),a!==s?i=o=[o,a]:(Ke=i,i=h)):(Ke=i,i=h)}if(n!==s){for(i=Ke,o=[],a=qr();a!==s;)o.push(a),a=qr();o!==s&&(a=Wr())!==s?i=o=[o,a]:(Ke=i,i=h),i===s&&(i=l),i!==s?($e=t,t=e=C(e,r,n,i)):(Ke=t,t=h)}else Ke=t,t=h}else Ke=t,t=h;else Ke=t,t=h;return tr--,t===s&&(e=s,0===tr&&nr(O)),t}function fr(){var t,e,r,i,o,a,u,c;if(t=Ke,n.substr(Ke,5)===I?(e=I,Ke+=5):(e=s,0===tr&&nr(P)),e===s&&(n.substr(Ke,5)===k?(e=k,Ke+=5):(e=s,0===tr&&nr(F))),e!==s){if(r=[],(i=Kr())!==s)for(;i!==s;)r.push(i),i=Kr();else r=h;if(r!==s)if((i=dr())!==s){for(o=[],a=Kr();a!==s;)o.push(a),a=Kr();o!==s?(n.substr(Ke,2)===N?(a=N,Ke+=2):(a=s,0===tr&&nr(B)),a!==s&&Kr()!==s&&(u=or())!==s?(n.substr(Ke,4)===x?(c=x,Ke+=4):(c=s,0===tr&&nr(L)),c!==s?($e=t,t=e=D(e,i,u)):(Ke=t,t=h)):(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;else Ke=t,t=h}else Ke=t,t=h;return t}function lr(){var t,e,r,i,o,a,u,c,f,p,d;if(t=Ke,n.substr(Ke,2)===U?(e=U,Ke+=2):(e=s,0===tr&&nr(M)),e!==s){if(r=[],(i=Kr())!==s)for(;i!==s;)r.push(i),i=Kr();else r=h;if(r!==s)if((i=or())!==s)if(n.substr(Ke,4)===j?(o=j,Ke+=4):(o=s,0===tr&&nr(W)),o!==s){if(a=[],(u=Kr())!==s)for(;u!==s;)a.push(u),u=Kr();else a=h;if(a!==s)if((u=or())!==s){for(c=[],f=pr();f!==s;)c.push(f),f=pr();c!==s?(f=Ke,n.substr(Ke,4)===Y?(p=Y,Ke+=4):(p=s,0===tr&&nr(z)),p!==s&&(d=or())!==s?f=p=[p,d]:(Ke=f,f=h),f===s&&(f=l),f!==s?(n.substr(Ke,2)===G?(p=G,Ke+=2):(p=s,0===tr&&nr(V)),p!==s?($e=t,t=e=H(i,u,c,f)):(Ke=t,t=h)):(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;else Ke=t,t=h}else Ke=t,t=h;else Ke=t,t=h;else Ke=t,t=h}else Ke=t,t=h;return t}function pr(){var t,e,r,i,o,a,u;if(t=Ke,n.substr(Ke,4)===q?(e=q,Ke+=4):(e=s,0===tr&&nr(K)),e!==s){if(r=[],(i=Kr())!==s)for(;i!==s;)r.push(i),i=Kr();else r=h;if(r!==s)if((i=dr())!==s)if(n.substr(Ke,4)===j?(o=j,Ke+=4):(o=s,0===tr&&nr(W)),o!==s){if(a=[],(u=Kr())!==s)for(;u!==s;)a.push(u),u=Kr();else a=h;a!==s&&(u=or())!==s?($e=t,t=e=$(i,u)):(Ke=t,t=h)}else Ke=t,t=h;else Ke=t,t=h;else Ke=t,t=h}else Ke=t,t=h;return t}function dr(){var t,e;return t=Ke,(e=or())!==s&&($e=t,e=J(e)),e}function yr(){var t,e,r,i;return t=Ke,(e=Fr())!==s?(61===n.charCodeAt(Ke)?(r=X,Ke++):(r=s,0===tr&&nr(Z)),r!==s&&(i=vr())!==s?($e=t,t=e=Q(e,i)):(Ke=t,t=h)):(Ke=t,t=h),t}function mr(){var t,e,r,n,i;return tr++,t=Ke,e=Ke,tr++,r=jr(),tr--,r===s?e=et:(Ke=e,e=h),e!==s?(r=Ke,tr++,n=$r(),tr--,n===s?r=et:(Ke=r,r=h),r!==s?(n=Ke,tr++,i=yr(),tr--,i===s?n=et:(Ke=n,n=h),n!==s?((i=wr())===s&&(i=gr()),i!==s?($e=t,t=e=rt(i)):(Ke=t,t=h)):(Ke=t,t=h)):(Ke=t,t=h)):(Ke=t,t=h),tr--,t===s&&(e=s,0===tr&&nr(tt)),t}function gr(){var t;return 91===n.charCodeAt(Ke)?(t=nt,Ke++):(t=s,0===tr&&nr(it)),t===s&&(n.substr(Ke,2)===ot?(t=ot,Ke+=2):(t=s,0===tr&&nr(st))),t}function vr(){var t;return tr++,(t=mr())===s&&(t=Mr()),tr--,t===s&&0===tr&&nr(at),t}function wr(){var t,e,r;if(t=Ke,e=[],(r=Sr())===s&&(r=br())===s&&(r=kr())===s&&(r=Br())===s&&(r=xr())===s&&(r=Ar())===s&&(r=Or()),r!==s)for(;r!==s;)e.push(r),(r=Sr())===s&&(r=br())===s&&(r=kr())===s&&(r=Br())===s&&(r=xr())===s&&(r=Ar())===s&&(r=Or());else e=h;return e!==s&&($e=t,e=ut(e)),e}function br(){var t,e,r;if(t=Ke,e=[],(r=_r())!==s)for(;r!==s;)e.push(r),r=_r();else e=h;return e!==s&&($e=t,e=ht(e)),e}function _r(){var t,e,r;return t=Ke,92===n.charCodeAt(Ke)?(e=ct,Ke++):(e=s,0===tr&&nr(ft)),e!==s&&(r=Er())!==s?($e=t,t=e=lt(r)):(Ke=t,t=h),t===s&&(t=Ke,e=Ke,tr++,r=Er(),tr--,r===s?e=et:(Ke=e,e=h),e!==s?(n.length>Ke?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(pt)),r!==s?($e=t,t=e=lt(r)):(Ke=t,t=h)):(Ke=t,t=h)),t}function Er(){var t;return dt.test(n.charAt(Ke))?(t=n.charAt(Ke),Ke++):(t=s,0===tr&&nr(yt)),t}function Sr(){var t,e,r,i,o;for(t=Ke,e=[],r=_r();r!==s;)e.push(r),r=_r();if(e!==s){if(r=[],42===n.charCodeAt(Ke)?(i=mt,Ke++):(i=s,0===tr&&nr(gt)),i===s&&(63===n.charCodeAt(Ke)?(i=vt,Ke++):(i=s,0===tr&&nr(wt)),i===s&&(i=Rr())===s&&(i=Tr())),i!==s)for(;i!==s;)r.push(i),42===n.charCodeAt(Ke)?(i=mt,Ke++):(i=s,0===tr&&nr(gt)),i===s&&(63===n.charCodeAt(Ke)?(i=vt,Ke++):(i=s,0===tr&&nr(wt)),i===s&&(i=Rr())===s&&(i=Tr()));else r=h;if(r!==s){for(i=[],o=_r();o!==s;)i.push(o),o=_r();i!==s?($e=t,t=e=bt()):(Ke=t,t=h)}else Ke=t,t=h}else Ke=t,t=h;return t}function Rr(){var t,e,r,i,o,a,u,c,f;return t=Ke,e=Ke,91===n.charCodeAt(Ke)?(r=nt,Ke++):(r=s,0===tr&&nr(it)),r!==s?(i=Ke,tr++,45===n.charCodeAt(Ke)?(o=_t,Ke++):(o=s,0===tr&&nr(Et)),tr--,o===s?i=et:(Ke=i,i=h),i!==s?(n.length>Ke?(o=n.charAt(Ke),Ke++):(o=s,0===tr&&nr(pt)),o!==s?(45===n.charCodeAt(Ke)?(a=_t,Ke++):(a=s,0===tr&&nr(Et)),a!==s?(u=Ke,tr++,45===n.charCodeAt(Ke)?(c=_t,Ke++):(c=s,0===tr&&nr(Et)),tr--,c===s?u=et:(Ke=u,u=h),u!==s?(n.length>Ke?(c=n.charAt(Ke),Ke++):(c=s,0===tr&&nr(pt)),c!==s?(93===n.charCodeAt(Ke)?(f=St,Ke++):(f=s,0===tr&&nr(Rt)),f!==s?e=r=[r,i,o,a,u,c,f]:(Ke=e,e=h)):(Ke=e,e=h)):(Ke=e,e=h)):(Ke=e,e=h)):(Ke=e,e=h)):(Ke=e,e=h)):(Ke=e,e=h),e!==s&&(e=n.substring(t,Ke)),e}function Tr(){var t,e,r,i,o;if(t=Ke,e=Ke,n.length>Ke?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(pt)),r===s&&(r=l),r!==s?(i=Ke,tr++,36===n.charCodeAt(Ke)?(o=Tt,Ke++):(o=s,0===tr&&nr(At)),tr--,o===s?i=et:(Ke=i,i=h),i!==s?e=r=[r,i]:(Ke=e,e=h)):(Ke=e,e=h),e!==s)if(123===n.charCodeAt(Ke)?(r=Ot,Ke++):(r=s,0===tr&&nr(Ct)),r!==s){if(i=[],(o=_r())!==s)for(;o!==s;)i.push(o),o=_r();else i=h;i!==s?(125===n.charCodeAt(Ke)?(o=It,Ke++):(o=s,0===tr&&nr(Pt)),o!==s?t=e=[e,r,i,o]:(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;else Ke=t,t=h;return t}function Ar(){var t,e,r,i,o;if(t=Ke,39===n.charCodeAt(Ke)?(e=kt,Ke++):(e=s,0===tr&&nr(Ft)),e!==s){for(r=Ke,i=[],Nt.test(n.charAt(Ke))?(o=n.charAt(Ke),Ke++):(o=s,0===tr&&nr(Bt));o!==s;)i.push(o),Nt.test(n.charAt(Ke))?(o=n.charAt(Ke),Ke++):(o=s,0===tr&&nr(Bt));i!==s&&(i=n.substring(r,Ke)),(r=i)!==s?(39===n.charCodeAt(Ke)?(i=kt,Ke++):(i=s,0===tr&&nr(Ft)),i!==s?($e=t,t=e=xt(r)):(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;return t}function Or(){var t,e,r,i,o;if(t=Ke,34===n.charCodeAt(Ke)?(e=Lt,Ke++):(e=s,0===tr&&nr(Dt)),e!==s){if(r=[],(i=Pr())===s)if(i=[],(o=Cr())!==s)for(;o!==s;)i.push(o),o=Cr();else i=h;for(;i!==s;)if(r.push(i),(i=Pr())===s)if(i=[],(o=Cr())!==s)for(;o!==s;)i.push(o),o=Cr();else i=h;r!==s?(34===n.charCodeAt(Ke)?(i=Lt,Ke++):(i=s,0===tr&&nr(Dt)),i!==s?($e=t,t=e=Ut(r)):(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;return t}function Cr(){var t,e,r;return t=Ke,92===n.charCodeAt(Ke)?(e=ct,Ke++):(e=s,0===tr&&nr(ft)),e!==s&&(r=Ir())!==s?($e=t,t=e=lt(r)):(Ke=t,t=h),t===s&&(t=Ke,n.substr(Ke,2)===Mt?(e=Mt,Ke+=2):(e=s,0===tr&&nr(jt)),e!==s&&($e=t,e=Wt()),(t=e)===s&&(t=Ke,e=Ke,tr++,r=Ir(),tr--,r===s?e=et:(Ke=e,e=h),e!==s?(n.length>Ke?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(pt)),r!==s?($e=t,t=e=lt(r)):(Ke=t,t=h)):(Ke=t,t=h))),t}function Ir(){var t;return 34===n.charCodeAt(Ke)?(t=Lt,Ke++):(t=s,0===tr&&nr(Dt)),t===s&&(36===n.charCodeAt(Ke)?(t=Tt,Ke++):(t=s,0===tr&&nr(At)),t===s&&(96===n.charCodeAt(Ke)?(t=Yt,Ke++):(t=s,0===tr&&nr(zt)))),t}function Pr(){var t;return(t=xr())===s&&(t=kr())===s&&(t=Br()),t}function kr(){var t,e,r;return t=Ke,36===n.charCodeAt(Ke)?(e=Tt,Ke++):(e=s,0===tr&&nr(At)),e!==s&&(r=Nr())!==s?($e=t,t=e=Gt(r)):(Ke=t,t=h),t}function Fr(){var t,e,r;if(t=Ke,e=[],Vt.test(n.charAt(Ke))?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(Ht)),r!==s)for(;r!==s;)e.push(r),Vt.test(n.charAt(Ke))?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(Ht));else e=h;return e!==s&&($e=t,e=qt()),e}function Nr(){var t;return(t=Fr())===s&&(63===n.charCodeAt(Ke)?(t=vt,Ke++):(t=s,0===tr&&nr(wt))),t}function Br(){var t,e,r,i;if(t=Ke,n.substr(Ke,2)===Kt?(e=Kt,Ke+=2):(e=s,0===tr&&nr($t)),e!==s){for(r=[],Jt.test(n.charAt(Ke))?(i=n.charAt(Ke),Ke++):(i=s,0===tr&&nr(Xt));i!==s;)r.push(i),Jt.test(n.charAt(Ke))?(i=n.charAt(Ke),Ke++):(i=s,0===tr&&nr(Xt));r!==s?(125===n.charCodeAt(Ke)?(i=It,Ke++):(i=s,0===tr&&nr(Pt)),i!==s?($e=t,t=e=Zt(r)):(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;return t}function xr(){var t;return(t=Lr())===s&&(t=Dr()),t}function Lr(){var t,e,r,i;return t=Ke,n.substr(Ke,2)===Qt?(e=Qt,Ke+=2):(e=s,0===tr&&nr(te)),e!==s&&(r=sr())!==s?(41===n.charCodeAt(Ke)?(i=ee,Ke++):(i=s,0===tr&&nr(re)),i!==s?($e=t,t=e=ne(r)):(Ke=t,t=h)):(Ke=t,t=h),t}function Dr(){var t,e,r,i;if(t=Ke,96===n.charCodeAt(Ke)?(e=Yt,Ke++):(e=s,0===tr&&nr(zt)),e!==s){if(r=[],(i=Ur())!==s)for(;i!==s;)r.push(i),i=Ur();else r=h;r!==s?(96===n.charCodeAt(Ke)?(i=Yt,Ke++):(i=s,0===tr&&nr(zt)),i!==s?($e=t,t=e=ie(r)):(Ke=t,t=h)):(Ke=t,t=h)}else Ke=t,t=h;return t}function Ur(){var t,e,r;return t=Ke,n.substr(Ke,2)===oe?(e=oe,Ke+=2):(e=s,0===tr&&nr(se)),e!==s&&($e=t,e=ae()),(t=e)===s&&(t=Ke,n.substr(Ke,2)===Mt?(e=Mt,Ke+=2):(e=s,0===tr&&nr(jt)),e!==s&&($e=t,e=Wt()),(t=e)===s&&(t=Ke,e=Ke,tr++,96===n.charCodeAt(Ke)?(r=Yt,Ke++):(r=s,0===tr&&nr(zt)),tr--,r===s?e=et:(Ke=e,e=h),e!==s?(n.length>Ke?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(pt)),r!==s?($e=t,t=e=lt(r)):(Ke=t,t=h)):(Ke=t,t=h))),t}function Mr(){var t,e,r,i,o;return t=Ke,ue.test(n.charAt(Ke))?(e=n.charAt(Ke),Ke++):(e=s,0===tr&&nr(he)),e!==s?(40===n.charCodeAt(Ke)?(r=ce,Ke++):(r=s,0===tr&&nr(fe)),r!==s&&(i=sr())!==s?(41===n.charCodeAt(Ke)?(o=ee,Ke++):(o=s,0===tr&&nr(re)),o!==s?($e=t,t=e=le(e,i)):(Ke=t,t=h)):(Ke=t,t=h)):(Ke=t,t=h),t}function jr(){var t;return(t=Yr())===s&&(t=zr())===s&&(t=Gr()),t}function Wr(){var t,e,r,i;if(t=Ke,124===n.charCodeAt(Ke)?(e=pe,Ke++):(e=s,0===tr&&nr(de)),e!==s){for(r=[],i=Kr();i!==s;)r.push(i),i=Kr();r!==s&&(i=cr())!==s?($e=t,t=e=ye(i)):(Ke=t,t=h)}else Ke=t,t=h;return t}function Yr(){var t,e,r,i,o;return t=Ke,(e=Hr())===s&&(e=l),e!==s?(n.substr(Ke,2)===me?(r=me,Ke+=2):(r=s,0===tr&&nr(ge)),r===s&&(n.substr(Ke,2)===ve?(r=ve,Ke+=2):(r=s,0===tr&&nr(we))),r!==s&&(i=Hr())!==s?(45===n.charCodeAt(Ke)?(o=_t,Ke++):(o=s,0===tr&&nr(Et)),o!==s?($e=t,t=e=be(e,r,i)):(Ke=t,t=h)):(Ke=t,t=h)):(Ke=t,t=h),t}function zr(){var t,e,r,i,o;if(t=Ke,(e=Hr())===s&&(e=l),e!==s)if(n.substr(Ke,2)===me?(r=me,Ke+=2):(r=s,0===tr&&nr(ge)),r===s&&(n.substr(Ke,2)===ve?(r=ve,Ke+=2):(r=s,0===tr&&nr(we))),r!==s){for(i=[],o=qr();o!==s;)i.push(o),o=qr();i!==s&&(o=Hr())!==s?($e=t,t=e=_e(e,r,o)):(Ke=t,t=h)}else Ke=t,t=h;else Ke=t,t=h;return t}function Gr(){var t,e,r,n,i;if(t=Ke,(e=Hr())===s&&(e=l),e!==s)if((r=Vr())!==s){for(n=[],i=qr();i!==s;)n.push(i),i=qr();n!==s&&(i=vr())!==s?($e=t,t=e=Ee(e,r,i)):(Ke=t,t=h)}else Ke=t,t=h;else Ke=t,t=h;return t}function Vr(){var t;return 60===n.charCodeAt(Ke)?(t=Se,Ke++):(t=s,0===tr&&nr(Re)),t===s&&(62===n.charCodeAt(Ke)?(t=Te,Ke++):(t=s,0===tr&&nr(Ae)),t===s&&(n.substr(Ke,2)===Oe?(t=Oe,Ke+=2):(t=s,0===tr&&nr(Ce)),t===s&&(n.substr(Ke,2)===Ie?(t=Ie,Ke+=2):(t=s,0===tr&&nr(Pe)),t===s&&(n.substr(Ke,2)===ke?(t=ke,Ke+=2):(t=s,0===tr&&nr(Fe)),t===s&&(n.substr(Ke,3)===Ne?(t=Ne,Ke+=3):(t=s,0===tr&&nr(Be))))))),t}function Hr(){var t,e,r;if(t=Ke,e=[],xe.test(n.charAt(Ke))?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(Le)),r!==s)for(;r!==s;)e.push(r),xe.test(n.charAt(Ke))?(r=n.charAt(Ke),Ke++):(r=s,0===tr&&nr(Le));else e=h;return e!==s&&($e=t,e=De(e)),e}function qr(){var t;return 32===n.charCodeAt(Ke)?(t=Ue,Ke++):(t=s,0===tr&&nr(Me)),t===s&&(9===n.charCodeAt(Ke)?(t=je,Ke++):(t=s,0===tr&&nr(We))),t}function Kr(){var t;return(t=qr())===s&&(10===n.charCodeAt(Ke)?(t=R,Ke++):(t=s,0===tr&&nr(T))),t}function $r(){var t,e,r,i;if(t=Ke,n.substr(Ke,5)===I?(e=I,Ke+=5):(e=s,0===tr&&nr(P)),e===s&&(n.substr(Ke,5)===k?(e=k,Ke+=5):(e=s,0===tr&&nr(F)),e===s&&(n.substr(Ke,3)===Ye?(e=Ye,Ke+=3):(e=s,0===tr&&nr(ze)),e===s&&(n.substr(Ke,4)===x?(e=x,Ke+=4):(e=s,0===tr&&nr(L)),e===s&&(n.substr(Ke,2)===N?(e=N,Ke+=2):(e=s,0===tr&&nr(B)),e===s&&(n.substr(Ke,4)===Ge?(e=Ge,Ke+=4):(e=s,0===tr&&nr(Ve)),e===s&&(n.substr(Ke,4)===He?(e=He,Ke+=4):(e=s,0===tr&&nr(qe)),e===s&&(n.substr(Ke,2)===U?(e=U,Ke+=2):(e=s,0===tr&&nr(M)),e===s&&(n.substr(Ke,4)===j?(e=j,Ke+=4):(e=s,0===tr&&nr(W)),e===s&&(n.substr(Ke,4)===Y?(e=Y,Ke+=4):(e=s,0===tr&&nr(z)),e===s&&(n.substr(Ke,4)===q?(e=q,Ke+=4):(e=s,0===tr&&nr(K)),e===s&&(n.substr(Ke,2)===G?(e=G,Ke+=2):(e=s,0===tr&&nr(V)),e===s&&(n.substr(Ke,2)===ot?(e=ot,Ke+=2):(e=s,0===tr&&nr(st)))))))))))))),e!==s){if(r=[],(i=Kr())!==s)for(;i!==s;)r.push(i),i=Kr();else r=h;r===s&&(r=Xr()),r!==s?t=e=[e,r]:(Ke=t,t=h)}else Ke=t,t=h;return t}function Jr(){var t,e,r,i;if(t=Ke,e=Ke,tr++,(r=$r())===s&&(34===n.charCodeAt(Ke)?(r=Lt,Ke++):(r=s,0===tr&&nr(Dt)),r===s&&(39===n.charCodeAt(Ke)?(r=kt,Ke++):(r=s,0===tr&&nr(Ft)),r===s&&(96===n.charCodeAt(Ke)?(r=Yt,Ke++):(r=s,0===tr&&nr(zt)),r===s&&(n.substr(Ke,2)===Qt?(r=Qt,Ke+=2):(r=s,0===tr&&nr(te)),r===s&&(n.substr(Ke,2)===Kt?(r=Kt,Ke+=2):(r=s,0===tr&&nr($t)),r===s&&(40===n.charCodeAt(Ke)?(r=ce,Ke++):(r=s,0===tr&&nr(fe)))))))),tr--,r!==s?(Ke=e,e=et):e=h,e!==s){for(r=[],n.length>Ke?(i=n.charAt(Ke),Ke++):(i=s,0===tr&&nr(pt));i!==s;)r.push(i),n.length>Ke?(i=n.charAt(Ke),Ke++):(i=s,0===tr&&nr(pt));r!==s?t=e=[e,r]:(Ke=t,t=h)}else Ke=t,t=h;return t}function Xr(){var t,e;return t=Ke,tr++,n.length>Ke?(e=n.charAt(Ke),Ke++):(e=s,0===tr&&nr(pt)),tr--,e===s?t=et:(Ke=t,t=h),t}var Zr=r(814),Qr=r(66);function tn(t){return t.join("")}function en(t){return{type:"literal",value:Zr(t)?t.join(""):t}}function rn(t){return t[0]}function nn(t){return t[1]}function on(t){for(var e,r=[t[0]],n=t.length,i=t[0],o=1;o<n;o++)"concatenation"==(e=t[o]).type&&(e=on(e.pieces)),"concatenation"==e.type?r=r.concat(e.pieces):"literal"!=e.type&&"glob"!=e.type||"literal"!=i.type&&"glob"!=i.type?(r.push(e),i=e):(i.value+=e.value,"glob"!=i.type&&"glob"==e.type&&(i.type="glob"));return 1==r.length?r[0]:{type:"concatenation",pieces:r}}if((i=u())!==s&&Ke===n.length)return i;throw i!==s&&Ke<n.length&&nr({type:"end",description:"end of input"}),ir(null,Qe,Ze)}}}();t.exports.SyntaxError=n.SyntaxError},459:(t,e)=>{"use strict";e.quote=function(t){return t.map((function(t){return t&&"object"==typeof t?t.op.replace(/(.)/g,"\\$1"):/["\s]/.test(t)&&!/'/.test(t)?"'"+t.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(t)?'"'+t.replace(/(["\\$`!])/g,"\\$1")+'"':String(t).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")})).join(" ")};for(var r="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",n="",i=0;i<4;i++)n+=(Math.pow(16,8)*Math.random()).toString(16);e.parse=function(t,e,i){var o=function(t,e,i){var o=new RegExp(["("+r+")","((\\\\['\"|&;()<> \\t]|[^\\s'\"|&;()<> \\t])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')*"].join("|"),"g"),s=t.match(o).filter(Boolean);if(!s)return[];e||(e={}),i||(i={});var a=!1;return s.map((function(t,o){if(!a){if(RegExp("^"+r+"$").test(t))return{op:t};var u,h=i.escape||"\\",c=!1,f=!1,l="",p=!1;for(u=0;u<t.length;u++){var d=t.charAt(u);if(p=p||!c&&("*"===d||"?"===d),f)l+=d,f=!1;else if(c)d===c?c=!1:"'"==c?l+=d:d===h?(u+=1,l+='"'===(d=t.charAt(u))||d===h||"$"===d?d:h+d):l+="$"===d?y():d;else if('"'===d||"'"===d)c=d;else{if(RegExp("^"+r+"$").test(d))return{op:t};if(/^#$/.test(d))return a=!0,l.length?[l,{comment:t.slice(u+1)+s.slice(o+1).join(" ")}]:[{comment:t.slice(u+1)+s.slice(o+1).join(" ")}];d===h?f=!0:l+="$"===d?y():d}}return p?{op:"glob",pattern:l}:l}function y(){var r,i,o,s;if(u+=1,"{"===t.charAt(u)){if(u+=1,"}"===t.charAt(u))throw new Error("Bad substitution: "+t.substr(u-2,3));if((r=t.indexOf("}",u))<0)throw new Error("Bad substitution: "+t.substr(u));i=t.substr(u,r-u),u=r}else/[*@#?$!_-]/.test(t.charAt(u))?(i=t.charAt(u),u+=1):(r=t.substr(u).match(/[^\w\d_]/))?(i=t.substr(u,r.index),u+=r.index-1):(i=t.substr(u),u=t.length);return o=i,void 0===(s="function"==typeof e?e(o):e[o])&&""!=o?s="":void 0===s&&(s="$"),"object"==typeof s?""+n+JSON.stringify(s)+n:""+s}})).reduce((function(t,e){return void 0===e?t:t.concat(e)}),[])}(t,e,i);return"function"!=typeof e?o:o.reduce((function(t,e){if("object"==typeof e)return t.concat(e);var r=e.split(RegExp("("+n+".*?"+n+")","g"));return 1===r.length?t.concat(r[0]):t.concat(r.filter(Boolean).map((function(t){return RegExp("^"+n).test(t)?JSON.parse(t.split(n)[1]):t})))}),[])}},537:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadAdditionalAssets=e.loadInitialAssets=void 0;const n=r(496);async function i(t,e,r,i,o){const s=await n.workspace.fs.readFile(n.Uri.joinPath(r,"template",i)),a=o||i;t.writeFile(n.Uri.joinPath(e,a),s,{create:!0,overwrite:!1})}async function o(t,e,r,i,o){const s=await fetch(n.Uri.joinPath(n.Uri.parse(r),i).toString()),a=await s.arrayBuffer(),u=o||i;t.writeFile(n.Uri.joinPath(e,u),new Uint8Array(a),{create:!0,overwrite:!1})}e.loadInitialAssets=async function(t,e,r){const o=[];o.push(i(t,e,r,"main.html")),o.push(i(t,e,r,"README.md")),t.createDirectory(n.Uri.joinPath(e,".vscode")),o.push(i(t,e,r,".vscode/tasks.json")),t.createDirectory(n.Uri.joinPath(e,"src")),o.push(i(t,e,r,"src/Main.cpp")),t.createDirectory(n.Uri.joinPath(e,"include")),await Promise.all(o)},e.loadAdditionalAssets=async function(t,e){const r=[],i=n.workspace.getConfiguration("siv3d-playground").get("siv3d-assets-download-url");r.push(o(t,e,i,"lib/Siv3D.wasm","Siv3D.wasm")),r.push(o(t,e,i,"lib/Siv3D.js","Siv3D.js")),r.push(o(t,e,i,"lib/Siv3D.data","Siv3D.data")),await Promise.all(r),t.createDirectory(n.Uri.joinPath(e,"example")),r.push(o(t,e,i,"example/windmill.png")),r.push(o(t,e,i,"example/example/particle.png")),t.createDirectory(n.Uri.joinPath(e,"example/geojson")),r.push(o(t,e,i,"example/geojson/countries.geojson")),t.createDirectory(n.Uri.joinPath(e,"example/texture")),r.push(o(t,e,i,"example/texture/uv.png")),r.push(o(t,e,i,"example/texture/grass.jpg")),r.push(o(t,e,i,"example/texture/rock.jpg")),r.push(o(t,e,i,"example/texture/ground.jpg")),r.push(o(t,e,i,"example/texture/earth.jpg")),t.createDirectory(n.Uri.joinPath(e,"example/shader")),t.createDirectory(n.Uri.joinPath(e,"example/shader/essl")),r.push(o(t,e,i,"example/shader/essl/terrain_forward.vert")),r.push(o(t,e,i,"example/shader/essl/terrain_forward.frag")),r.push(o(t,e,i,"example/shader/essl/terrain_normal.frag")),t.createDirectory(n.Uri.joinPath(e,"example/obj")),r.push(o(t,e,i,"example/obj/blacksmith.obj")),r.push(o(t,e,i,"example/obj/mill.obj")),r.push(o(t,e,i,"example/obj/tree.obj")),r.push(o(t,e,i,"example/obj/pine.obj")),await Promise.all(r)}},454:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WasmPseudoTerminal=void 0;const n=r(496),i=r(759);e.WasmPseudoTerminal=class{constructor(t){this.writeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.closeEmitter=new n.EventEmitter,this.onDidClose=this.closeEmitter.event,this.textDecoder=new TextDecoder,this.terminal=new i.default({fetchCommand:()=>({}),wasmFs:t,tty:this,processWorkerUrl:"dist/webworker.js"})}open(t){this.terminal.open()}close(){}write(t){this.writeEmitter.fire(t)}handleInput(t){this.callback?.call(null,t)}onData(t){this.callback=t}}},948:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WasmMemFs=void 0;const n=r(628),i=r(496);e.WasmMemFs=class{constructor(){this._emitter=new i.EventEmitter,this._bufferedEvents=[],this.onDidChangeFile=this._emitter.event,this.wasmFs=new n.WasmFs,this.disposable=i.Disposable.from(i.workspace.registerFileSystemProvider("memfs",this,{isCaseSensitive:!0}),i.workspace.registerFileSearchProvider("memfs",this),i.workspace.registerFileSystemProvider("vscode-remote",this,{isCaseSensitive:!0}),i.workspace.registerFileSearchProvider("vscode-remote",this))}dispose(){delete this.wasmFs}stat(t){return new Promise(((e,r)=>{this.wasmFs.fs.stat(t.path,((n,o)=>{if(n)return r(i.FileSystemError.FileNotFound(t));let s=i.FileType.Unknown;o.isFile()?s=i.FileType.File:o.isDirectory()?s=i.FileType.Directory:o.isSymbolicLink()&&(s=i.FileType.SymbolicLink),e({type:s,ctime:o.ctime.getTime(),mtime:o.mtime.getTime(),size:Number(o.size)})}))}))}readDirectory(t){return new Promise(((e,r)=>{this.wasmFs.fs.readdir(t.path,{withFileTypes:!0},((t,n)=>{if(t)return r(t);e(n.map((t=>t.isSymbolicLink()?[t.name,i.FileType.SymbolicLink]:t.isDirectory()?[t.name,i.FileType.Directory]:t.isFile()?[t.name,i.FileType.File]:[t.name,i.FileType.Unknown])))}))}))}readFile(t){return this.wasmFs.fs.readFileSync(t.path,{encoding:"buffer"})}writeFile(t,e,r){const n=t.path;if(!r.create||!r.overwrite)if(this.wasmFs.fs.existsSync(n)){if(!r.overwrite)throw new Error("File already exists")}else if(!r.create)throw new Error("File does not exist");this.wasmFs.fs.writeFileSync(n,e),r.create?this._fireSoon({type:i.FileChangeType.Created,uri:t}):this._fireSoon({type:i.FileChangeType.Changed,uri:t})}rename(t,e,r){this.wasmFs.fs.renameSync(t.path,e.path),this._fireSoon({type:i.FileChangeType.Deleted,uri:t},{type:i.FileChangeType.Created,uri:e})}delete(t){this.wasmFs.fs.rmdirSync(t.path,{recursive:!0}),this._fireSoon({uri:t,type:i.FileChangeType.Deleted})}createDirectory(t){this.wasmFs.fs.mkdirSync(t.path),this._fireSoon({type:i.FileChangeType.Created,uri:t})}watch(t){return new i.Disposable((()=>{}))}_fireSoon(...t){this._bufferedEvents.push(...t),this._fireSoonHandle&&clearTimeout(this._fireSoonHandle),this._fireSoonHandle=setTimeout((()=>{this._emitter.fire(this._bufferedEvents),this._bufferedEvents.length=0}),5)}_convertSimple2RegExpPattern(t){return t.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}provideFileSearchResults(t,e,r){return this._findFiles(t.pattern)}_getFiles(){const t=new Set;return this._doGetFiles(i.Uri.parse("memfs:/"),t),t}_doGetFiles(t,e){this.wasmFs.fs.readdirSync(t.path,{withFileTypes:!0}).forEach((r=>{const n=i.Uri.joinPath(t,r.name);r.isFile()?e.add([r,n]):r.isDirectory()&&this._doGetFiles(i.Uri.joinPath(t,r.name),e)}))}_findFiles(t){const e=this._getFiles(),r=[],n=t?new RegExp(this._convertSimple2RegExpPattern(t)):null;console.log(n);for(const t of e)n&&!n.exec(t[0].name)||r.push(t[1]);return r}}},841:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(891),i=r(393),o=r(383),s=r(341);let a;e.default=class{constructor(t,e,r,n,i){this.wasmTerminalConfig=t,this.commandString=e,this.commandStartReadCallback=r,this.commandEndCallback=n,i&&(this.wasmTty=i),this.commandOptionsForProcessesToRun=[],this.spawnedProcessObjects=[],this.spawnedProcesses=0,this.pipedStdinDataForNextProcess=new Uint8Array,this.isRunning=!1,this.supportsSharedArrayBuffer=this.wasmTerminalConfig.processWorkerUrl&&window.SharedArrayBuffer&&window.Atomics}async runCommand(){const t=i(this.commandString);try{if(t.length>1)throw new Error("Only one command permitted");if("command"!==t[0].type)throw new Error("Only commands allowed");this.commandOptionsForProcessesToRun=await this._getCommandOptionsFromAST(t[0],this.wasmTerminalConfig,this.wasmTty)}catch(t){return this.wasmTty&&(this.wasmTty.print("\r\n"),this.wasmTty.print(`wasm shell: parse error (${t.toString()})\r\n`)),console.error(t),void this.commandEndCallback()}this.isRunning=!0,await this._tryToSpawnProcess(0)}kill(){this.isRunning&&(this.spawnedProcessObjects.forEach((t=>{t.worker&&t.worker.terminate(),t.ioDeviceWindow&&t.ioDeviceWindow.close()})),this.commandOptionsForProcessesToRun=[],this.spawnedProcessObjects=[],this.isRunning=!1,this.commandEndCallback())}_addStdinToSharedStdin(t,e){if(!this.spawnedProcessObjects[e])return;const r=this.spawnedProcessObjects[e].sharedStdin;let n=1;r[0]>0&&(n=r[0]),t.forEach(((t,e)=>{r[n+e]=t})),r[0]=n+t.length-1,Atomics.notify(r,0,1)}async _tryToSpawnProcess(t){t+1>this.spawnedProcesses&&this.spawnedProcessObjects.length<2&&t<this.commandOptionsForProcessesToRun.length&&(this.spawnedProcesses++,await this._spawnProcess(t))}async _spawnProcess(t){let e;e=this.commandOptionsForProcessesToRun[t].module&&this.supportsSharedArrayBuffer?await this._spawnProcessAsWorker(t):await this._spawnProcessAsService(t),this.spawnedProcessObjects.push(e),e.process.start(this.pipedStdinDataForNextProcess.length>0?this.pipedStdinDataForNextProcess:void 0),this.pipedStdinDataForNextProcess.length>0&&(this.pipedStdinDataForNextProcess=new Uint8Array);let r=!1;this.commandOptionsForProcessesToRun.length>t+1&&(r=void 0!==this.commandOptionsForProcessesToRun[t+1].callback),this.supportsSharedArrayBuffer&&!r&&this._tryToSpawnProcess(t+1)}async _spawnProcessAsWorker(t){if(!this.wasmTerminalConfig.processWorkerUrl)throw new Error("Terminal Config missing the Process Worker URL");let e=this.wasmTerminalConfig.processWorkerUrl;const r=await this._getBlobUrlForProcessWorker(e,this.wasmTty),i=new Worker(r),o=n.wrap(i),a=new SharedArrayBuffer(8192),u=this.wasmTerminalConfig.wasmFs.toJSON(),h=new SharedArrayBuffer(8192),c=new s.default(h),f=await new o(this.commandOptionsForProcessesToRun[t],u,n.proxy(this._processDataCallback.bind(this,{commandOptionIndex:t,sync:!1})),n.proxy(this._processEndCallback.bind(this,{commandOptionIndex:t,processWorker:i})),n.proxy(this._processErrorCallback.bind(this,{commandOptionIndex:t})),n.proxy(c),h,a,n.proxy(this._processStartStdinReadCallback.bind(this))),l=new Int32Array(a);return l[0]=-1,{process:f,commandOptionIndex:t,ioDeviceWindow:c,worker:i,sharedStdin:l}}async _spawnProcessAsService(t){const e=this.wasmTerminalConfig.wasmFs.toJSON(),r=new s.default;return{process:new o.default(this.commandOptionsForProcessesToRun[t],e,this._processDataCallback.bind(this,{commandOptionIndex:t,sync:!0}),this._processEndCallback.bind(this,{commandOptionIndex:t}),this._processErrorCallback.bind(this,{commandOptionIndex:t}),r),commandOptionIndex:t,ioDeviceWindow:r}}_processDataCallback({commandOptionIndex:t,sync:e},r){if(this.isRunning)if(t<this.commandOptionsForProcessesToRun.length-1)if(this.supportsSharedArrayBuffer&&this.spawnedProcessObjects.length>1&&this.spawnedProcessObjects[this.spawnedProcessObjects.length-1].commandOptionIndex>t)this._addStdinToSharedStdin(r,1);else{const t=new Uint8Array(r.length+this.pipedStdinDataForNextProcess.length);t.set(this.pipedStdinDataForNextProcess),t.set(r,this.pipedStdinDataForNextProcess.length),this.pipedStdinDataForNextProcess=t}else{let t=new TextDecoder("utf-8").decode(r);this.wasmTty&&this.wasmTty.print(t)}}_processEndCallback(t,e){const{commandOptionIndex:r,processWorker:n}=t;n&&n.terminate(),e&&this.wasmTerminalConfig.wasmFs.fromJSON(e),r<this.commandOptionsForProcessesToRun.length-1?this._tryToSpawnProcess(r+1):(this.isRunning=!1,this.commandEndCallback()),this.spawnedProcessObjects.shift()}_processErrorCallback(t,e,r){const{commandOptionIndex:n}=t;console.error(`${this.commandOptionsForProcessesToRun[n].args[0]}: ${e}`),r&&this.wasmTerminalConfig.wasmFs.fromJSON(r),this.kill(),this.commandEndCallback()}_processStartStdinReadCallback(){this.commandStartReadCallback().then((t=>{const e=(new TextEncoder).encode(t+"\n");this._addStdinToSharedStdin(e,0)}))}async _getBlobUrlForProcessWorker(t,e){if(a)return a;e&&e.printStatus("[INFO] Downloading the process Web Worker (This happens once)...");const r=await Promise.all([fetch(t).then((t=>t.text())),new Promise((t=>setTimeout(t,500)))]).then((t=>t[0]));e&&e.clearStatus();const n=new Blob([r]);return a=window.URL.createObjectURL(n),a}async _getCommandOptionsFromAST(t,e,r){let n=[],i=t.command.value,o=[i,...t.args.map((t=>t.value))];const s=Object.entries(t.env).map((([t,e])=>[t,e.value]));let a={};if(s.forEach((([t,e])=>{a[t]=e})),r){const{rows:t,cols:e}=r.getTermSize();a.LINES=t,a.COLUMNS=e}await(async()=>{if(t.redirects){let i=t.redirects[0];if(i&&"pipe"===i.type){const t=await this._getCommandOptionsFromAST(i.command,e,r);n=n.concat(t)}}})(),r&&r.printStatus(`[INFO] Fetching the command ${i} ...`);const u=await e.fetchCommand({args:o,env:a});if(r&&r.clearStatus(),u instanceof Uint8Array){const t=await WebAssembly.compile(u);n.unshift({args:o,env:a,module:t})}else(h=u)&&("[object Function]"===Object.prototype.toString.call(h)||"function"==typeof h||h instanceof Function)?n.unshift({args:o,env:a,callback:u}):n.unshift(u);var h;return n}}},398:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(468);class i extends n.default{constructor(t){if(super(t),!t.callback)throw new Error("The Command Options provided are not for a Callback Command");this.callback=t.callback}async run(t){let e=await Promise.resolve(this.callback(this.options,t));"string"==typeof e&&t.fs.writeFileSync("/dev/stdout",(new TextEncoder).encode(e+"\n"))}}e.default=i},468:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.options=t}async run(t){throw new Error("run not implemented by the Command subclass")}}},640:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(238),i=r(468);class o extends i.default{constructor(t){if(super(t),!t.module)throw new Error("Did not find a WebAssembly.Module for the WASI Command")}async run(t){const e={preopens:{".":".","/":"/",...this.options.preopens||{}},env:this.options.env,args:this.options.args,bindings:{...n.WASI.defaultBindings,fs:t.fs}},r=new n.WASI(e);let i=this.options.module,o=await WebAssembly.instantiate(i,{...r.getImports(i)});r.start(o)}}e.default=o},37:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchCommandFromWAPM=void 0,e.fetchCommandFromWAPM=async({args:t,env:e})=>{let r=t[0];const n=await(async t=>{const e=await fetch("https://registry.wapm.io/graphql",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({operationName:"shellGetCommandQuery",query:"query shellGetCommandQuery($command: String!) {\n  command: getCommand(name: $command) {\n    command\n    module {\n      abi\n      publicUrl\n    }\n    packageVersion {\n      package {\n        displayName\n      }\n    }\n  }\n}",variables:{command:t}})}),r=await e.json(),n=(t,e)=>{const r=t[e[0]];return e.shift(),!!r&&(!(e.length>1)||n(r,e))};if(n(r,["data","command","module","publicUrl"])){const e=r.data.command.module;if("wasi"!==e.abi)throw new Error(`${t} does not use the wasi abi. Currently, only the wasi abi is supported on the wapm shell.`);return e.publicUrl}throw new Error(`command not found ${t}`)})(r);return await(async t=>{const e=await fetch(t),r=await e.arrayBuffer();return new Uint8Array(r)})(n)}},759:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchCommandFromWAPM=void 0;const n=r(338),i=r(37);e.default=n.default,e.fetchCommandFromWAPM=i.fetchCommandFromWAPM},341:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.oldPopupKeyCodes=[],this.popupKeyCodes=[],t&&(this.sharedIoDeviceInput=new Int32Array(t))}resize(t,e){}close(){}drawRgbaArrayToFrameBuffer(t){}getInputBuffer(){const t=[];this.popupKeyCodes.forEach((e=>{this.oldPopupKeyCodes.includes(e)||(t.push(1),t.push(e))})),this.oldPopupKeyCodes.forEach((e=>{this.popupKeyCodes.includes(e)||(t.push(3),t.push(e))})),this.oldPopupKeyCodes=this.popupKeyCodes.slice(0);const e=new Uint8Array(t);if(this.sharedIoDeviceInput){for(let t=0;t<e.length;t++)this.sharedIoDeviceInput[t+1]=e[t];this.sharedIoDeviceInput[0]=e.length,Atomics.notify(this.sharedIoDeviceInput,0,1)}return e}_open(t,e){}_append32BitIntToByteArray(t,e){for(let r=0;r<4;r++){let n=t;n&=255<<8*r,n>>=8*r,e.push(n)}}}},383:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(628),i=r(455),o=r(238),s=r(640),a=r(398);e.default=class{constructor(t,e,r,o,u,h,c,f,l){let p,d;this.stdinPrompt="",this.commandOptions=t,this.wasmFs=new n.WasmFs,this.wasmFs.fromJSON(e),this.originalWasmFsJson=e,this.ioDevices=new i.IoDevices(this.wasmFs),this.ioDeviceWindow=h,this.ioDevices.setWindowSizeCallback((()=>{const t=this.ioDevices.getWindowSize();this.ioDeviceWindow.resize(t[0],t[1])})),this.ioDevices.setBufferIndexDisplayCallback((()=>{const t=this.ioDevices.getFrameBuffer();this.ioDeviceWindow.drawRgbaArrayToFrameBuffer(t)})),this.ioDevices.setInputCallback((()=>{if(this.sharedIoDeviceInput){this.ioDeviceWindow.getInputBuffer(),Atomics.wait(this.sharedIoDeviceInput,0,-1);const t=this.sharedIoDeviceInput[0];if(this.sharedIoDeviceInput[0]=-1,t>0){let e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.sharedIoDeviceInput[r+1];return e}return new Uint8Array}return this.ioDeviceWindow.getInputBuffer()})),this.dataCallback=r,this.endCallback=o,this.errorCallback=u,c&&(p=new Int32Array(c)),this.sharedIoDeviceInput=p,f&&(d=new Int32Array(f)),t.module?this.command=new s.default(t):this.command=new a.default(t),this.wasmFs.volume.fds[0].node.read=this.stdinRead.bind(this),this.wasmFs.volume.fds[1].node.write=this.stdoutWrite.bind(this),this.wasmFs.volume.fds[2].node.write=this.stdoutWrite.bind(this);const y=this.wasmFs.volume.openSync("/dev/tty","w+");this.wasmFs.volume.fds[y].node.read=this.stdinRead.bind(this),this.wasmFs.volume.fds[y].node.write=this.stdoutWrite.bind(this),this.sharedStdin=d,this.startStdinReadCallback=l,this.readStdinCounter=0,this.pipedStdin=""}async start(t){const e=()=>{this.ioDeviceWindow.resize(0,0),setTimeout((()=>{this.endCallback(this.wasmFs.toJSON())}),50)};try{t&&(this.pipedStdin=new TextDecoder("utf-8").decode(t)),await this.command.run(this.wasmFs),e()}catch(t){if(t instanceof o.WASIExitError)return t.code,void e();let r="Unknown Error";if(t.user,void 0!==t.code)r=`exited with code: ${t.code}`;else if(void 0!==t.signal)r=`killed with signal: ${t.signal}`;else if(void 0!==t.user)return void e();console.error(t),this.errorCallback(r,this.wasmFs.toJSON(),void 0!==t.user)}}stdoutWrite(t,e=0,r=t.byteLength,n){this.dataCallback&&this.dataCallback(t);let i=new TextDecoder("utf-8").decode(t).split("\n");return i.length>0?this.stdinPrompt=(t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return t.replace(r,"")})(i[i.length-1]):this.stdinPrompt="",t.length}stdinRead(t,e=0,r=t.byteLength,n){if(this.readStdinCounter%2!=0)return this.readStdinCounter++,0;let i=null;if(this.pipedStdin)i=this.pipedStdin,this.pipedStdin="",this.readStdinCounter++;else if(this.sharedStdin&&this.startStdinReadCallback){this.startStdinReadCallback(),Atomics.wait(this.sharedStdin,0,-1);const t=this.sharedStdin[0];this.sharedStdin[0]=-1;const e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=this.sharedStdin[1+r];i=new TextDecoder("utf-8").decode(e)}else{if(i="",null===i){this.dataCallback&&this.dataCallback((new TextEncoder).encode("\n"));const t=new Error("Process killed by user");throw t.user=!0,t}i+="\n",this.dataCallback&&this.dataCallback((new TextEncoder).encode(i))}if(!i)return 0;const o=(new TextEncoder).encode(i);for(let e=0;e<o.length;++e)t[e]=o[e];return o.length}}},838:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.size=t,this.entries=[],this.cursor=0}push(t){""!==t.trim()&&t!==this.entries[this.entries.length-1]&&(this.entries.push(t),this.entries.length>this.size&&this.entries.pop(),this.cursor=this.entries.length)}includes(t){return this.entries.includes(t)}rewind(){this.cursor=this.entries.length}getPrevious(){const t=Math.max(0,this.cursor-1);return this.cursor=t,this.entries[t]}getNext(){const t=Math.min(this.entries.length,this.cursor+1);return this.cursor=t,this.entries[t]}}},395:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.collectAutocompleteCandidates=e.getLastToken=e.hasTrailingWhitespace=e.isIncompleteInput=e.closestRightBoundary=e.closestLeftBoundary=e.wordBoundaries=void 0;const n=r(459);function i(t,e=!0){let r;const n=[],i=/\w+/g;for(r=i.exec(t);r;)e?n.push(r.index):n.push(r.index+r[0].length),r=i.exec(t);return n}function o(t){return null!==t.match(/[^\\][ \t]$/m)}e.wordBoundaries=i,e.closestLeftBoundary=function(t,e){const r=i(t,!0).reverse().find((t=>t<e));return void 0===r?0:r},e.closestRightBoundary=function(t,e){const r=i(t,!1).find((t=>t>e));return void 0===r?t.length:r},e.isIncompleteInput=function(t){return""!==t.trim()&&((t.match(/'/g)||[]).length%2!=0||(t.match(/"/g)||[]).length%2!=0||""===t.split(/(\|\||\||&&)/g).pop().trim()||!(!t.endsWith("\\")||t.endsWith("\\\\")))},e.hasTrailingWhitespace=o,e.getLastToken=function(t){return""===t.trim()||o(t)?"":(0,n.parse)(t).pop()||""},e.collectAutocompleteCandidates=function(t,e){const r=(0,n.parse)(e);let i=r.length-1,s=r[i]||"";return""===e.trim()?(i=0,s=""):o(e)&&(i+=1,s=""),t.reduce(((t,e)=>{try{let n=e(i,r);return t.concat(n)}catch(e){return console.error("Auto-complete error:",e),t}}),[]).filter((t=>t.startsWith(s)))}},896:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395),i=r(838),o=r(841);e.default=class{constructor(t,e,r={historySize:10,maxAutocompleteEntries:100}){this.handleCursorMove=t=>{if(t>0){const e=Math.min(t,this.wasmTty.getInput().length-this.wasmTty.getCursor());this.wasmTty.setCursorDirectly(this.wasmTty.getCursor()+e)}else if(t<0){const e=Math.max(t,-this.wasmTty.getCursor());this.wasmTty.setCursorDirectly(this.wasmTty.getCursor()+e)}},this.handleCursorErase=t=>{if(t){if(this.wasmTty.getCursor()<=0)return;const t=this.wasmTty.getInput().substr(0,this.wasmTty.getCursor()-1)+this.wasmTty.getInput().substr(this.wasmTty.getCursor());this.wasmTty.clearInput(),this.wasmTty.setCursorDirectly(this.wasmTty.getCursor()-1),this.wasmTty.setInput(t,!0)}else{const t=this.wasmTty.getInput().substr(0,this.wasmTty.getCursor())+this.wasmTty.getInput().substr(this.wasmTty.getCursor()+1);this.wasmTty.setInput(t)}},this.handleCursorInsert=t=>{const e=this.wasmTty.getInput().substr(0,this.wasmTty.getCursor())+t+this.wasmTty.getInput().substr(this.wasmTty.getCursor());this.wasmTty.setCursorDirectly(this.wasmTty.getCursor()+t.length),this.wasmTty.setInput(e)},this.handleReadComplete=()=>{this._activePrompt&&this._activePrompt.resolve&&(this._activePrompt.resolve(this.wasmTty.getInput()),this._activePrompt=void 0),this.wasmTty.print("\r\n"),this._active=!1},this.handleTermData=t=>{if(this._active||""===t){if(this._activeCharPrompt&&this._activeCharPrompt.resolve)return this._activeCharPrompt.resolve(t),this._activeCharPrompt=void 0,void this.wasmTty.print("\r\n");if(t.length>3&&27!==t.charCodeAt(0)){const e=t.replace(/[\r\n]+/g,"\r");Array.from(e).forEach((t=>this.handleData(t)))}else this.handleData(t)}},this.handleData=t=>{if(!this._active&&""!==t)return;const e=t.charCodeAt(0);let r;if(27===e)switch(t.substr(1)){case"[A":if(this.history){let t=this.history.getPrevious();t&&(this.wasmTty.setInput(t),this.wasmTty.setCursor(t.length))}break;case"[B":if(this.history){let t=this.history.getNext();t||(t=""),this.wasmTty.setInput(t),this.wasmTty.setCursor(t.length)}break;case"[D":this.handleCursorMove(-1);break;case"[C":this.handleCursorMove(1);break;case"[3~":this.handleCursorErase(!1);break;case"[F":this.wasmTty.setCursor(this.wasmTty.getInput().length);break;case"[H":this.wasmTty.setCursor(0);break;case"b":r=(0,n.closestLeftBoundary)(this.wasmTty.getInput(),this.wasmTty.getCursor()),r&&this.wasmTty.setCursor(r);break;case"f":r=(0,n.closestRightBoundary)(this.wasmTty.getInput(),this.wasmTty.getCursor()),r&&this.wasmTty.setCursor(r);break;case"":r=(0,n.closestLeftBoundary)(this.wasmTty.getInput(),this.wasmTty.getCursor()),r&&(this.wasmTty.setInput(this.wasmTty.getInput().substr(0,r)+this.wasmTty.getInput().substr(this.wasmTty.getCursor())),this.wasmTty.setCursor(r))}else if(e<32||127===e)switch(t){case"\r":case"\n":case"\r":(0,n.isIncompleteInput)(this.wasmTty.getInput())?this.handleCursorInsert("\n"):this.handleReadComplete();break;case"":case"\b":case"":this.handleCursorErase(!0);break;case"\t":if(this._autocompleteHandlers.length>0){const t=this.wasmTty.getInput().substr(0,this.wasmTty.getCursor()),e=(0,n.hasTrailingWhitespace)(t),r=(0,n.collectAutocompleteCandidates)(this._autocompleteHandlers,t);if(r.sort(),0===r.length)e||this.handleCursorInsert(" ");else if(1===r.length){const e=(0,n.getLastToken)(t);this.handleCursorInsert(r[0].substr(e.length)+" ")}else r.length<=this.maxAutocompleteEntries?this.printAndRestartPrompt((()=>{this.wasmTty.printWide(r)})):this.printAndRestartPrompt((()=>this.wasmTty.readChar(`Display all ${r.length} possibilities? (y or n)`).promise.then((t=>{"y"!==t&&"Y"!==t||this.wasmTty.printWide(r)}))))}else this.handleCursorInsert("    ");break;case"":this.wasmTty.setCursor(0);break;case"":this.handleCursorMove(-1);break;case"":case"":const t=this.wasmTty.getInput();this.wasmTty.setCursor(t.length),this.wasmTty.setInput(""),this.wasmTty.setCursorDirectly(0),this.wasmTty.print(t+"^C\r\n"),this.history&&this.history.rewind(),this.commandRunner&&(this.commandRunner.kill(),this.commandRunner=void 0),this.resolveActiveRead();break;case"":this.wasmTty.setCursor(this.wasmTty.getInput().length);break;case"":this.handleCursorMove(1);break;case"":this.history&&this.history.rewind(),this.wasmTty.setInput("");break;case"\v":this.wasmTty.setInput(this.wasmTty.getInput().substring(0,this.wasmTty.getCursor())),this.wasmTty.setCursor(this.wasmTty.getInput().length);break;case"\f":this.wasmTty.clearTty(),this.wasmTty.print(`$ ${this.wasmTty.getInput()}`);break;case"":if(this.history){let t=this.history.getNext();t||(t=""),this.wasmTty.setInput(t),this.wasmTty.setCursor(t.length)}break;case"":if(this.history){let t=this.history.getPrevious();t&&(this.wasmTty.setInput(t),this.wasmTty.setCursor(t.length))}break;case"":this.wasmTty.setInput(this.wasmTty.getInput().substring(this.wasmTty.getCursor())),this.wasmTty.setCursor(0)}else this.handleCursorInsert(t)},this.wasmTerminalConfig=t,this.wasmTty=e,this.history=new i.default(r.historySize),this.commandRunner=void 0,this.maxAutocompleteEntries=r.maxAutocompleteEntries,this._autocompleteHandlers=[(t,e)=>this.history.entries],this._active=!1}async prompt(){if(!this._activePrompt)try{this._activePrompt=this.wasmTty.read("$ "),this._active=!0;let t=await this._activePrompt.promise;if(this.commandRunner&&this.commandRunner.kill(),""===t)return void this.prompt();if("!!"===t){if(!(this.history&&this.history.entries.length>0))throw new Error("No Previous command in History");t=this.history.entries[this.history.entries.length-1]}else this.history&&this.history.push(this.wasmTty.getInput());this.commandRunner=this.getCommandRunner(t),await this.commandRunner.runCommand()}catch(t){this.wasmTty.println(`${t.toString()}`),this.prompt()}}isPrompting(){return this._active}getCommandRunner(t){return new o.default(this.wasmTerminalConfig,t,(async()=>(this._activePrompt=this.wasmTty.read(""),this._active=!0,this._activePrompt.promise)),(()=>{setTimeout((()=>{this.prompt()}))}),this.wasmTty)}printAndRestartPrompt(t){this.wasmTty.getCursor(),this.wasmTty.setCursor(this.wasmTty.getInput().length),this.wasmTty.print("\r\n");const e=()=>{this.wasmTty.setCursor(this.wasmTty.getCursor()),this.wasmTty.setInput(this.wasmTty.getInput())},r=t();r?r.then(e):e()}resolveActiveRead(){this._activePrompt&&this._activePrompt.resolve&&(this._activePrompt.resolve(""),this._activePrompt=void 0),this._activeCharPrompt&&this._activeCharPrompt.resolve&&(this._activeCharPrompt.resolve(""),this._activeCharPrompt=void 0),this._active=!1}rejectActiveRead(t="aborted"){(this._activePrompt||this._activeCharPrompt)&&this.wasmTty.print("\r\n"),this._activePrompt&&this._activePrompt.reject&&(this._activePrompt.reject(new Error(t)),this._activePrompt=void 0),this._activeCharPrompt&&this._activeCharPrompt.reject&&(this._activeCharPrompt.reject(new Error(t)),this._activeCharPrompt=void 0),this._active=!1}}},26:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(628);e.default=class{constructor(t){if(!t)throw new Error("You must provide a config for the Wasm terminal.");if(!t.fetchCommand)throw new Error("You must provide a fetchCommand for the Wasm terminal config, to handle fetching commands to be run");t.processWorkerUrl||console.warn("Note: It is HIGHLY reccomended you pass in the processWorkerUrl in the terminal config to create process workers. Without this, some wasi programs will not work."),this.fetchCommand=t.fetchCommand,this.processWorkerUrl=t.processWorkerUrl,t.wasmFs?this.wasmFs=t.wasmFs:this.wasmFs=new n.WasmFs,this.tty=t.tty}}},338:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(26),i=r(456),o=r(896);e.default=class{constructor(t){this.wasmTerminalConfig=new n.default(t),this.wasmTty=new i.default(t.tty),this.wasmShell=new o.default(this.wasmTerminalConfig,this.wasmTty),t.tty.onData(this.wasmShell.handleData)}open(){this.wasmShell.prompt()}}},796:(t,e)=>{"use strict";function r(t,e,r){let n=0,i=0;for(let o=0;o<e;++o)"\n"===t.charAt(o)?(i=0,n+=1):(i+=1,i>r&&(i=0,n+=1));return{row:n,col:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.countLines=e.offsetToColRow=void 0,e.offsetToColRow=r,e.countLines=function(t,e){return r(t,t.length,e).row+1}},456:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(796);e.default=class{constructor(t){this._firstInit=!0,this.xterm=t,this._termSize={cols:60,rows:60},this._promptPrefix="",this._continuationPromptPrefix="",this._input="",this._cursor=0}getAsyncRead(){let t,e;return{promise:new Promise(((r,n)=>{t=t=>{this._promptPrefix="",this._continuationPromptPrefix="",r(t)},e=n})),resolve:t,reject:e}}read(t,e="> "){return t.length>0&&this.print(t),this._firstInit=!0,this._promptPrefix=t,this._continuationPromptPrefix=e,this._input="",this._cursor=0,{promptPrefix:t,continuationPromptPrefix:e,...this.getAsyncRead()}}readChar(t){return t.length>0&&this.print(t),{promptPrefix:t,...this.getAsyncRead()}}println(t){this.print(t+"\n")}print(t){const e=t.replace(/[\r\n]+/g,"\n").replace(/\n/g,"\r\n");this.xterm.write(e)}printWide(t,e=2){if(0===t.length)return this.println("");const r=t.reduce(((t,e)=>Math.max(t,e.length)),0)+e,n=Math.floor(this._termSize.cols/r),i=Math.ceil(t.length/n);let o=0;for(let e=0;e<i;++e){let e="";for(let i=0;i<n;++i)if(o<t.length){let n=t[o++];n+=" ".repeat(r-n.length),e+=n}this.println(e)}}printStatus(t){this.print("[s"),this.print(t)}clearStatus(){this.print("[u"),this.print("[1000D"),this.print("[0J")}applyPrompts(t){return this._promptPrefix+t.replace(/\n/g,"\n"+this._continuationPromptPrefix)}applyPromptOffset(t,e){return this.applyPrompts(t.substr(0,e)).length}clearInput(){const t=this.applyPrompts(this._input),e=(0,n.countLines)(t,this._termSize.cols),r=this.applyPromptOffset(this._input,this._cursor),{col:i,row:o}=(0,n.offsetToColRow)(t,r,this._termSize.cols),s=e-o-1;for(let t=0;t<s;++t)this.xterm.write("[E");this.xterm.write("\r[K");for(let t=1;t<e;++t)this.xterm.write("[F[K")}clearTty(){this.xterm.write("[2J"),this.xterm.write("[0;0H"),this._cursor=0}getFirstInit(){return this._firstInit}getPromptPrefix(){return this._promptPrefix}getContinuationPromptPrefix(){return this._continuationPromptPrefix}getTermSize(){return this._termSize}getInput(){return this._input}getCursor(){return this._cursor}getSize(){return this._termSize}setInput(t,e=!1){e||this.clearInput();const r=this.applyPrompts(t);this.print(r),this._cursor>t.length&&(this._cursor=t.length);const i=this.applyPromptOffset(t,this._cursor),o=(0,n.countLines)(r,this._termSize.cols),{col:s,row:a}=(0,n.offsetToColRow)(r,i,this._termSize.cols),u=o-a-1;this.xterm.write("\r");for(let t=0;t<u;++t)this.xterm.write("[F");for(let t=0;t<s;++t)this.xterm.write("[C");this._input=t}setCursor(t){t<0&&(t=0),t>this._input.length&&(t=this._input.length),this._writeCursorPosition(t)}setCursorDirectly(t){this._writeCursorPosition(t)}_writeCursorPosition(t){const e=this.applyPrompts(this._input),r=((0,n.countLines)(e,this._termSize.cols),this.applyPromptOffset(this._input,this._cursor)),{col:i,row:o}=(0,n.offsetToColRow)(e,r,this._termSize.cols),s=this.applyPromptOffset(this._input,t),{col:a,row:u}=(0,n.offsetToColRow)(e,s,this._termSize.cols);if(u>o)for(let t=o;t<u;++t)this.xterm.write("[B");else for(let t=u;t<o;++t)this.xterm.write("[A");if(a>i)for(let t=i;t<a;++t)this.xterm.write("[C");else for(let t=a;t<i;++t)this.xterm.write("[D");this._cursor=t}setTermSize(t,e){this._termSize={cols:t,rows:e}}setFirstInit(t){this._firstInit=t}setPromptPrefix(t){this._promptPrefix=t}setContinuationPromptPrefix(t){this._continuationPromptPrefix=t}}},238:(t,e,r)=>{"use strict";function n(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)}function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}r.r(e),r.d(e,{WASI:()=>be,WASIError:()=>ge,WASIExitError:()=>ve,WASIKillError:()=>we,default:()=>_e});var u="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:{},h="undefined"!=typeof BigInt?BigInt:u.BigInt||Number,c=DataView;c.prototype.setBigUint64||(c.prototype.setBigUint64=function(t,e,r){if(e<Math.pow(2,32)){e=Number(e);var n=0}else{n=e.toString(2),e="";for(var i=0;i<64-n.length;i++)e+="0";e+=n,n=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(r?0:4),e,r),this.setUint32(t+(r?4:0),n,r)},c.prototype.getBigUint64=function(t,e){var r=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),r=r.toString(2),t=t.toString(2),e="";for(var n=0;n<32-r.length;n++)e+="0";return h("0b"+t+(e+r))});var f=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},l=[],p=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,y=!1;function m(){y=!0;for(var t=0;64>t;++t)l[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;p[45]=62,p[95]=63}function g(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]);return n.join("")}function v(t){y||m();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(g(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=l[t>>2],n+=l[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=l[t>>10],n+=l[t>>4&63],n+=l[t<<2&63],n+="="),i.push(n),i.join("")}function w(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,u=-7,h=r?-1:1,c=t[e+(i=r?i-1:0)];for(i+=h,r=c&(1<<-u)-1,c>>=-u,u+=o;0<u;r=256*r+t[e+i],i+=h,u-=8);for(o=r&(1<<-u)-1,r>>=-u,u+=n;0<u;o=256*o+t[e+i],i+=h,u-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(c?-1:1);o+=Math.pow(2,n),r-=a}return(c?-1:1)*o*Math.pow(2,r-n)}function b(t,e,r,n,i,o){var s,a=8*o-i-1,u=(1<<a)-1,h=u>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var f=n?1:-1,l=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=u):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+h?e+c/s:e+c*Math.pow(2,1-h))*s&&(n++,s/=2),n+h>=u?(e=0,n=u):1<=n+h?(e=(e*s-1)*Math.pow(2,i),n+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=f,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=f,n/=256,a-=8);t[r+o-f]|=128*l}var _={}.toString,E=Array.isArray||function(t){return"[object Array]"==_.call(t)};T.TYPED_ARRAY_SUPPORT=void 0===f.TYPED_ARRAY_SUPPORT||f.TYPED_ARRAY_SUPPORT;var S=T.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function R(t,e){if((T.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return T.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=T.prototype:(null===t&&(t=new T(e)),t.length=e),t}function T(t,e,r){if(!(T.TYPED_ARRAY_SUPPORT||this instanceof T))return new T(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return C(this,t)}return A(this,t,e,r)}function A(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),T.TYPED_ARRAY_SUPPORT?(t=e).__proto__=T.prototype:t=I(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!T.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(n=R(n,r=0|F(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(k(e)){var r=0|P(e.length);return 0===(t=R(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?R(t,0):I(t,e);if("Buffer"===e.type&&E(e.data))return I(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function O(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function C(t,e){if(O(e),t=R(t,0>e?0:0|P(e)),!T.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function I(t,e){var r=0>e.length?0:0|P(e.length);t=R(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function P(t){if(t>=(T.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(T.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function k(t){return!(null==t||!t._isBuffer)}function F(t,e){if(k(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(t).length;default:if(n)return V(t).length;e=(""+e).toLowerCase(),n=!0}}function N(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return D(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return 0===e&&r===this.length?v(this):v(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function B(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function x(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=T.from(e,n)),k(e))return 0===e.length?-1:L(t,e,r,n,i);if("number"==typeof e)return e&=255,T.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):L(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function L(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,u/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===u)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+u>a&&(r=a-u);0<=r;r--){for(a=!0,n=0;n<u;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function D(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:a=t[e+1];var u=t[e+2];128==(192&a)&&128==(192&u)&&2047<(i=(15&i)<<12|(63&a)<<6|63&u)&&(55296>i||57343<i)&&(o=i);break;case 4:a=t[e+1],u=t[e+2];var h=t[e+3];128==(192&a)&&128==(192&u)&&128==(192&h)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&u)<<6|63&h)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=U)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=U));n=r}return n}T.poolSize=8192,T._augment=function(t){return t.__proto__=T.prototype,t},T.from=function(t,e,r){return A(null,t,e,r)},T.TYPED_ARRAY_SUPPORT&&(T.prototype.__proto__=Uint8Array.prototype,T.__proto__=Uint8Array),T.alloc=function(t,e,r){return O(t),0>=t?R(null,t):void 0!==e?"string"==typeof r?R(null,t).fill(e,r):R(null,t).fill(e):R(null,t)},T.allocUnsafe=function(t){return C(null,t)},T.allocUnsafeSlow=function(t){return C(null,t)},T.isBuffer=$,T.compare=function(t,e){if(!k(t)||!k(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},T.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(t,e){if(!E(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return T.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=T.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!k(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,n),n+=i.length}return e},T.byteLength=F,T.prototype._isBuffer=!0,T.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)B(this,e,e+1);return this},T.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)B(this,e,e+3),B(this,e+1,e+2);return this},T.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)B(this,e,e+7),B(this,e+1,e+6),B(this,e+2,e+5),B(this,e+3,e+4);return this},T.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?D(this,0,t):N.apply(this,arguments)},T.prototype.equals=function(t){if(!k(t))throw new TypeError("Argument must be a Buffer");return this===t||0===T.compare(this,t)},T.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},T.prototype.compare=function(t,e,r,n,i){if(!k(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},T.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},T.prototype.indexOf=function(t,e,r){return x(this,t,e,r,!0)},T.prototype.lastIndexOf=function(t,e,r){return x(this,t,e,r,!1)},T.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return K(V(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return K(H(t),this,e,r);case"base64":return K(q(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return K(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var U=4096;function M(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,r,n,i,o){if(!k(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function W(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Y(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function z(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}T.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),T.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=T.prototype;else{e=new T(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},T.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},T.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},T.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},T.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},T.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},T.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},T.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},T.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},T.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},T.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},T.prototype.readInt16LE=function(t,e){return e||M(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},T.prototype.readInt16BE=function(t,e){return e||M(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},T.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},T.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},T.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),w(this,t,!0,23,4)},T.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),w(this,t,!1,23,4)},T.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),w(this,t,!0,52,8)},T.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),w(this,t,!1,52,8)},T.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||j(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},T.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||j(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},T.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,255,0),T.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},T.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),T.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):W(this,t,e,!0),e+2},T.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,65535,0),T.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):W(this,t,e,!1),e+2},T.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),T.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Y(this,t,e,!0),e+4},T.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,4294967295,0),T.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Y(this,t,e,!1),e+4},T.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||j(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},T.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||j(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i>>0)-o&255;return e+r},T.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,1,127,-128),T.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},T.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),T.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):W(this,t,e,!0),e+2},T.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,2,32767,-32768),T.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):W(this,t,e,!1),e+2},T.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),T.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Y(this,t,e,!0),e+4},T.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||j(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),T.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Y(this,t,e,!1),e+4},T.prototype.writeFloatLE=function(t,e,r){return r||z(this,0,e,4),b(this,t,e,!0,23,4),e+4},T.prototype.writeFloatBE=function(t,e,r){return r||z(this,0,e,4),b(this,t,e,!1,23,4),e+4},T.prototype.writeDoubleLE=function(t,e,r){return r||z(this,0,e,8),b(this,t,e,!0,52,8),e+8},T.prototype.writeDoubleBE=function(t,e,r){return r||z(this,0,e,8),b(this,t,e,!1,52,8),e+8},T.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!T.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},T.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!T.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=k(t)?t:V(new T(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var G=/[^+\/0-9A-Za-z-_]/g;function V(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function q(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(G,"")).length)t="";else for(;0!=t.length%4;)t+="=";y||m();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new d(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=p[t.charCodeAt(e)]<<18|p[t.charCodeAt(e+1)]<<12|p[t.charCodeAt(e+2)]<<6|p[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=p[t.charCodeAt(e)]<<2|p[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=p[t.charCodeAt(e)]<<10|p[t.charCodeAt(e+1)]<<4|p[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function K(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function $(t){return null!=t&&(!!t._isBuffer||J(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&J(t.slice(0,0)))}function J(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var X=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:S,Buffer:T,SlowBuffer:function(t){return+t!=t&&(t=0),T.alloc(+t)},isBuffer:$}),Z=T,Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function tt(t,e){return t(e={exports:{}},e.exports),e.exports}function et(){throw Error("setTimeout has not been defined")}function rt(){throw Error("clearTimeout has not been defined")}var nt=et,it=rt;function ot(t){if(nt===setTimeout)return setTimeout(t,0);if((nt===et||!nt)&&setTimeout)return nt=setTimeout,setTimeout(t,0);try{return nt(t,0)}catch(e){try{return nt.call(null,t,0)}catch(e){return nt.call(this,t,0)}}}"function"==typeof f.setTimeout&&(nt=setTimeout),"function"==typeof f.clearTimeout&&(it=clearTimeout);var st,at=[],ut=!1,ht=-1;function ct(){ut&&st&&(ut=!1,st.length?at=st.concat(at):ht=-1,at.length&&ft())}function ft(){if(!ut){var t=ot(ct);ut=!0;for(var e=at.length;e;){for(st=at,at=[];++ht<e;)st&&st[ht].run();ht=-1,e=at.length}st=null,ut=!1,function(t){if(it===clearTimeout)return clearTimeout(t);if((it===rt||!it)&&clearTimeout)return it=clearTimeout,clearTimeout(t);try{it(t)}catch(e){try{return it.call(null,t)}catch(e){return it.call(this,t)}}}(t)}}function lt(t,e){this.fun=t,this.array=e}lt.prototype.run=function(){this.fun.apply(null,this.array)};var pt=f.performance||{},dt=(pt.now||pt.mozNow||pt.msNow||pt.oNow||pt.webkitNow,new Date,function(){return"/"}),yt=tt((function(t,e){function r(t,e){for(var r in t)e[r]=t[r]}function n(t,e,r){return i(t,e,r)}var i=X.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=X:(r(X,e),e.Buffer=n),n.prototype=Object.create(i.prototype),r(i,n),n.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},n.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=i(t),void 0!==e?"string"==typeof r?t.fill(e,r):t.fill(e):t.fill(0),t},n.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},n.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return X.SlowBuffer(t)}})),mt=tt((function(t,e){function r(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function n(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>h||0>t)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function i(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>h||0>t)throw new TypeError("size must be a uint32");if(t+e>r||t>a)throw new RangeError("buffer too small")}function o(t,e,r,n){if(e=new Uint8Array(t.buffer,e,r),u.getRandomValues(e),!n)return t;!function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];at.push(new lt(t,e)),1!==at.length||ut||ot(ft)}((function(){n(null,t)}))}var s=yt.Buffer,a=yt.kMaxLength,u=Q.crypto||Q.msCrypto,h=Math.pow(2,32)-1;u&&u.getRandomValues?(e.randomFill=function(t,e,r,a){if(!(s.isBuffer(t)||t instanceof Q.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)a=e,e=0,r=t.length;else if("function"==typeof r)a=r,r=t.length-e;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return n(e,t.length),i(r,e,t.length),o(t,e,r,a)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof Q.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return n(e,t.length),void 0===r&&(r=t.length-e),i(r,e,t.length),o(t,e,r)}):(e.randomFill=r,e.randomFillSync=r)})),gt=tt((function(t){t.exports=mt})).randomFillSync,vt=Math.floor(.001*(Date.now()-performance.now()));function wt(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function bt(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(2>n.length||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){if((o=n.lastIndexOf("/"))!==n.length-1){-1===o?(n="",i=0):i=(n=n.slice(0,o)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n=0<n.length?n+"/..":"..",i=2)}else n=0<n.length?n+"/"+t.slice(o+1,a):t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var _t,Et={resolve:function(){for(var t,e="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){if(0<=n)var i=arguments[n];else void 0===t&&(t=dt()),i=t;wt(i),0!==i.length&&(e=i+"/"+e,r=47===i.charCodeAt(0))}return e=bt(e,!r),r?0<e.length?"/"+e:"/":0<e.length?e:"."},normalize:function(t){if(wt(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=bt(t,!e)).length||e||(t="."),0<t.length&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return wt(t),0<t.length&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];wt(r),0<r.length&&(t=void 0===t?r:t+"/"+r)}return void 0===t?".":Et.normalize(t)},relative:function(t,e){if(wt(t),wt(e),t===e)return"";if((t=Et.resolve(t))===(e=Et.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,i=n-r,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,u=-1,h=0;h<=a;++h){if(h===a){if(s>a){if(47===e.charCodeAt(o+h))return e.slice(o+h+1);if(0===h)return e.slice(o+h)}else i>a&&(47===t.charCodeAt(r+h)?u=h:0===h&&(u=0));break}var c=t.charCodeAt(r+h);if(c!==e.charCodeAt(o+h))break;47===c&&(u=h)}for(i="",h=r+u+1;h<=n;++h)h!==n&&47!==t.charCodeAt(h)||(i=0===i.length?i+"..":i+"/..");return 0<i.length?i+e.slice(o+u):(o+=u,47===e.charCodeAt(o)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(wt(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');wt(t);var r,n=0,i=-1,o=!0;if(void 0!==e&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(r=t.length-1;0<=r;--r){var u=t.charCodeAt(r);if(47===u){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),0<=s&&(u===e.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;0<=r;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname:function(t){wt(t);for(var e=-1,r=0,n=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(!i){r=s+1;break}}else-1===n&&(i=!1,n=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);var e=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+r:e+"/"+r:r},parse:function(t){wt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r=t.charCodeAt(0),n=47===r;if(n){e.root="/";var i=1}else i=0;for(var o=-1,s=0,a=-1,u=!0,h=t.length-1,c=0;h>=i;--h)if(47===(r=t.charCodeAt(h))){if(!u){s=h+1;break}}else-1===a&&(u=!1,a=h+1),46===r?-1===o?o=h:1!==c&&(c=1):-1!==o&&(c=-1);return-1===o||-1===a||0===c||1===c&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=0===s&&n?t.slice(1,a):t.slice(s,a)):(0===s&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),0<s?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},St=Et.posix=Et,Rt={hrtime:function(t){return 1e9*(t=function(t){var e=.001*performance.now(),r=Math.floor(e)+vt;return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]}(t))[0]+t[1]},exit:function(t){throw new ve(t)},kill:function(t){throw new we(t)},randomFillSync:gt,isTTY:function(){return!0},path:Object.freeze({__proto__:null,default:St,__moduleExports:St}),fs:null},Tt=h(1),At=h(2),Ot=h(4),Ct=h(8),It=h(16),Pt=h(32),kt=h(64),Ft=h(128),Nt=h(256),Bt=h(512),xt=h(1024),Lt=h(2048),Dt=h(4096),Ut=h(8192),Mt=h(16384),jt=h(32768),Wt=h(65536),Yt=h(131072),zt=h(262144),Gt=h(524288),Vt=h(1048576),Ht=h(2097152),qt=h(4194304),Kt=h(8388608),$t=h(16777216),Jt=h(33554432),Xt=h(67108864),Zt=h(134217728),Qt=h(268435456),te=Tt|At|Ot|Ct|It|Pt|kt|Ft|Nt|Bt|xt|Lt|Dt|Ut|Mt|jt|Wt|Yt|zt|Gt|Vt|Ht|Kt|qt|$t|Xt|Jt|Zt|Qt,ee=Tt|At|Ot|Ct|It|Pt|kt|Ft|Nt|Ht|qt|Kt|Zt,re=h(0),ne=Ct|It|Ft|Bt|xt|Lt|Dt|Ut|Mt|jt|Wt|Yt|zt|Gt|Vt|Ht|Kt|$t|Xt|Jt|Zt,ie=ne|ee,oe=At|Ct|kt|Ht|Zt|Qt,se=At|Ct|kt|Ht|Zt,ae=h(0),ue={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},he=((_t={})[6]="SIGHUP",_t[8]="SIGINT",_t[11]="SIGQUIT",_t[7]="SIGILL",_t[15]="SIGTRAP",_t[0]="SIGABRT",_t[2]="SIGBUS",_t[5]="SIGFPE",_t[9]="SIGKILL",_t[20]="SIGUSR1",_t[12]="SIGSEGV",_t[21]="SIGUSR2",_t[10]="SIGPIPE",_t[1]="SIGALRM",_t[14]="SIGTERM",_t[3]="SIGCHLD",_t[4]="SIGCONT",_t[13]="SIGSTOP",_t[16]="SIGTSTP",_t[17]="SIGTTIN",_t[18]="SIGTTOU",_t[19]="SIGURG",_t[23]="SIGXCPU",_t[24]="SIGXFSZ",_t[22]="SIGVTALRM",_t),ce=Tt|At|It|Ft|Ht|Zt,fe=Tt|kt|It|Ft|Ht|Zt;function le(t){var e=Math.trunc(t);return t=h(Math.round(1e6*(t-e))),h(e)*h(1e6)+t}function pe(t){return"number"==typeof t&&(t=Math.trunc(t)),t=h(t),Number(t/h(1e6))}function de(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{return t.apply(void 0,a(e))}catch(t){if(t&&t.code&&"string"==typeof t.code)return ue[t.code]||28;if(t instanceof ge)return t.errno;throw t}}}function ye(t,e){var r=t.FD_MAP.get(e);if(!r)throw new ge(8);if(void 0===r.filetype){var n=t.bindings.fs.fstatSync(r.real);e=(t=me(t,e,n)).rightsBase,n=t.rightsInheriting,r.filetype=t.filetype,r.rights||(r.rights={base:e,inheriting:n})}return r}function me(t,e,r){switch(!0){case r.isBlockDevice():return{filetype:1,rightsBase:te,rightsInheriting:te};case r.isCharacterDevice():return void 0!==e&&t.bindings.isTTY(e)?{filetype:2,rightsBase:se,rightsInheriting:ae}:{filetype:2,rightsBase:te,rightsInheriting:te};case r.isDirectory():return{filetype:3,rightsBase:ne,rightsInheriting:ie};case r.isFIFO():return{filetype:6,rightsBase:oe,rightsInheriting:te};case r.isFile():return{filetype:4,rightsBase:ee,rightsInheriting:re};case r.isSocket():return{filetype:6,rightsBase:oe,rightsInheriting:te};case r.isSymbolicLink():return{filetype:7,rightsBase:h(0),rightsInheriting:h(0)};default:return{filetype:0,rightsBase:h(0),rightsInheriting:h(0)}}}var ge=function(t){function e(r){var n=t.call(this)||this;return n.errno=r,Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),ve=function(t){function e(r){var n=t.call(this,"WASI Exit error: "+r)||this;return n.code=r,Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),we=function(t){function e(r){var n=t.call(this,"WASI Kill signal: "+r)||this;return n.signal=r,Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),be=function(){function t(t){function e(t){switch(t){case 1:return p.hrtime();case 0:return le(Date.now());case 2:case 3:return p.hrtime()-R;default:return null}}function r(t,e){if(t=ye(u,t),e!==h(0)&&(t.rights.base&e)===h(0))throw new ge(63);return t}function n(t,e){return u.refreshMemory(),Array.from({length:e},(function(e,r){return r=t+8*r,e=u.view.getUint32(r,!0),r=u.view.getUint32(r+4,!0),new Uint8Array(u.memory.buffer,e,r)}))}var i,u=this,c={};t&&t.preopens?c=t.preopens:t&&t.preopenDirectories&&(c=t.preopenDirectories);var f={};t&&t.env&&(f=t.env);var l=[];t&&t.args&&(l=t.args);var p=Rt;t&&t.bindings&&(p=t.bindings),this.view=this.memory=void 0,this.bindings=p,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:ce,inheriting:h(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:fe,inheriting:h(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:fe,inheriting:h(0)},path:void 0}]]);var d=this.bindings.fs,y=this.bindings.path;try{for(var m=o(Object.entries(c)),g=m.next();!g.done;g=m.next()){var v=s(g.value,2),w=v[0],b=v[1],_=d.openSync(b,d.constants.O_RDONLY),E=a(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(E,{real:_,filetype:3,rights:{base:ne,inheriting:ie},fakePath:w,path:b})}}catch(t){var S={error:t}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(S)throw S.error}}var R=p.hrtime();this.wasiImport={args_get:function(t,e){u.refreshMemory();var r=t,n=e;return l.forEach((function(t){u.view.setUint32(r,n,!0),r+=4,n+=Z.from(u.memory.buffer).write(t+"\0",n)})),0},args_sizes_get:function(t,e){return u.refreshMemory(),u.view.setUint32(t,l.length,!0),t=l.reduce((function(t,e){return t+Z.byteLength(e)+1}),0),u.view.setUint32(e,t,!0),0},environ_get:function(t,e){u.refreshMemory();var r=t,n=e;return Object.entries(f).forEach((function(t){var e=s(t,2);t=e[0],e=e[1],u.view.setUint32(r,n,!0),r+=4,n+=Z.from(u.memory.buffer).write(t+"="+e+"\0",n)})),0},environ_sizes_get:function(t,e){u.refreshMemory();var r=Object.entries(f).map((function(t){return(t=s(t,2))[0]+"="+t[1]+"\0"})),n=r.reduce((function(t,e){return t+Z.byteLength(e)}),0);return u.view.setUint32(t,r.length,!0),u.view.setUint32(e,n,!0),0},clock_res_get:function(t,e){switch(t){case 1:case 2:case 3:var r=h(1);break;case 0:r=h(1e3)}return u.view.setBigUint64(e,r),0},clock_time_get:function(t,r,n){return u.refreshMemory(),null===(t=e(t))?28:(u.view.setBigUint64(n,h(t),!0),0)},fd_advise:de((function(t){return r(t,Ft),52})),fd_allocate:de((function(t){return r(t,Nt),52})),fd_close:de((function(t){var e=r(t,h(0));return d.closeSync(e.real),u.FD_MAP.delete(t),0})),fd_datasync:de((function(t){return t=r(t,Tt),d.fdatasyncSync(t.real),0})),fd_fdstat_get:de((function(t,e){return t=r(t,h(0)),u.refreshMemory(),u.view.setUint8(e,t.filetype),u.view.setUint16(e+2,0,!0),u.view.setUint16(e+4,0,!0),u.view.setBigUint64(e+8,h(t.rights.base),!0),u.view.setBigUint64(e+8+8,h(t.rights.inheriting),!0),0})),fd_fdstat_set_flags:de((function(t){return r(t,Ct),52})),fd_fdstat_set_rights:de((function(t,e,n){return((t=r(t,h(0))).rights.base|e)>t.rights.base||(t.rights.inheriting|n)>t.rights.inheriting?63:(t.rights.base=e,t.rights.inheriting=n,0)})),fd_filestat_get:de((function(t,e){t=r(t,Ht);var n=d.fstatSync(t.real);return u.refreshMemory(),u.view.setBigUint64(e,h(n.dev),!0),e+=8,u.view.setBigUint64(e,h(n.ino),!0),e+=8,u.view.setUint8(e,t.filetype),e+=8,u.view.setBigUint64(e,h(n.nlink),!0),e+=8,u.view.setBigUint64(e,h(n.size),!0),e+=8,u.view.setBigUint64(e,le(n.atimeMs),!0),e+=8,u.view.setBigUint64(e,le(n.mtimeMs),!0),u.view.setBigUint64(e+8,le(n.ctimeMs),!0),0})),fd_filestat_set_size:de((function(t,e){return t=r(t,qt),d.ftruncateSync(t.real,Number(e)),0})),fd_filestat_set_times:de((function(t,n,i,o){t=r(t,Kt);var s=d.fstatSync(t.real),a=s.atime;s=s.mtime;var u=pe(e(0));return 3==(3&o)||12==(12&o)?28:(1==(1&o)?a=pe(n):2==(2&o)&&(a=u),4==(4&o)?s=pe(i):8==(8&o)&&(s=u),d.futimesSync(t.real,new Date(a),new Date(s)),0)})),fd_prestat_get:de((function(t,e){return(t=r(t,h(0))).path?(u.refreshMemory(),u.view.setUint8(e,0),u.view.setUint32(e+4,Z.byteLength(t.fakePath),!0),0):28})),fd_prestat_dir_name:de((function(t,e,n){return(t=r(t,h(0))).path?(u.refreshMemory(),Z.from(u.memory.buffer).write(t.fakePath,e,n,"utf8"),0):28})),fd_pwrite:de((function(t,e,i,o,s){var a=r(t,kt|Ot),h=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;)e+=d.writeSync(a.real,t,e,t.byteLength-e,Number(o)+h+e);h+=e})),u.view.setUint32(s,h,!0),0})),fd_write:de((function(t,e,i,o){var s=r(t,kt),a=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;){var r=d.writeSync(s.real,t,e,t.byteLength-e,s.offset?Number(s.offset):null);s.offset&&(s.offset+=h(r)),e+=r}a+=e})),u.view.setUint32(o,a,!0),0})),fd_pread:de((function(t,e,i,s,a){var h;t=r(t,At|Ot);var c=0;try{var f=o(n(e,i)),l=f.next();t:for(;!l.done;l=f.next()){var p=l.value;for(e=0;e<p.byteLength;){var y=p.byteLength-e,m=d.readSync(t.real,p,e,p.byteLength-e,Number(s)+c+e);if(e+=m,c+=m,0===m||m<y)break t}c+=e}}catch(t){var g={error:t}}finally{try{l&&!l.done&&(h=f.return)&&h.call(f)}finally{if(g)throw g.error}}return u.view.setUint32(a,c,!0),0})),fd_read:de((function(t,e,i,s){var a,c=0===(t=r(t,At)).real,f=0;try{var l=o(n(e,i)),p=l.next();t:for(;!p.done;p=l.next()){var y=p.value;for(e=0;e<y.byteLength;){var m=y.byteLength-e,g=d.readSync(t.real,y,e,m,c||void 0===t.offset?null:Number(t.offset));if(c||(t.offset=(t.offset?t.offset:h(0))+h(g)),e+=g,f+=g,0===g||g<m)break t}}}catch(t){var v={error:t}}finally{try{p&&!p.done&&(a=l.return)&&a.call(l)}finally{if(v)throw v.error}}return u.view.setUint32(s,f,!0),0})),fd_readdir:de((function(t,e,n,i,o){t=r(t,Mt),u.refreshMemory();var s=d.readdirSync(t.path,{withFileTypes:!0}),a=e;for(i=Number(i);i<s.length;i+=1){var c=s[i],f=Z.byteLength(c.name);if(e-a>n)break;if(u.view.setBigUint64(e,h(i+1),!0),(e+=8)-a>n)break;var l=d.statSync(y.resolve(t.path,c.name));if(u.view.setBigUint64(e,h(l.ino),!0),(e+=8)-a>n)break;if(u.view.setUint32(e,f,!0),(e+=4)-a>n)break;switch(!0){case l.isBlockDevice():l=1;break;case l.isCharacterDevice():l=2;break;case l.isDirectory():l=3;break;case l.isFIFO():l=6;break;case l.isFile():l=4;break;case l.isSocket():l=6;break;case l.isSymbolicLink():l=7;break;default:l=0}if(u.view.setUint8(e,l),e+=1,(e+=3)+f>=a+n)break;Z.from(u.memory.buffer).write(c.name,e),e+=f}return u.view.setUint32(o,Math.min(e-a,n),!0),0})),fd_renumber:de((function(t,e){return r(t,h(0)),r(e,h(0)),d.closeSync(u.FD_MAP.get(t).real),u.FD_MAP.set(t,u.FD_MAP.get(e)),u.FD_MAP.delete(e),0})),fd_seek:de((function(t,e,n,i){switch(t=r(t,Ot),u.refreshMemory(),n){case 1:t.offset=(t.offset?t.offset:h(0))+h(e);break;case 2:n=d.fstatSync(t.real).size,t.offset=h(n)+h(e);break;case 0:t.offset=h(e)}return u.view.setBigUint64(i,t.offset,!0),0})),fd_tell:de((function(t,e){return t=r(t,Pt),u.refreshMemory(),t.offset||(t.offset=h(0)),u.view.setBigUint64(e,t.offset,!0),0})),fd_sync:de((function(t){return t=r(t,It),d.fsyncSync(t.real),0})),path_create_directory:de((function(t,e,n){return(t=r(t,Bt)).path?(u.refreshMemory(),e=Z.from(u.memory.buffer,e,n).toString(),d.mkdirSync(y.resolve(t.path,e)),0):28})),path_filestat_get:de((function(t,e,n,i,o){return(t=r(t,zt)).path?(u.refreshMemory(),n=Z.from(u.memory.buffer,n,i).toString(),n=d.statSync(y.resolve(t.path,n)),u.view.setBigUint64(o,h(n.dev),!0),o+=8,u.view.setBigUint64(o,h(n.ino),!0),o+=8,u.view.setUint8(o,me(u,void 0,n).filetype),o+=8,u.view.setBigUint64(o,h(n.nlink),!0),o+=8,u.view.setBigUint64(o,h(n.size),!0),o+=8,u.view.setBigUint64(o,le(n.atimeMs),!0),o+=8,u.view.setBigUint64(o,le(n.mtimeMs),!0),u.view.setBigUint64(o+8,le(n.ctimeMs),!0),0):28})),path_filestat_set_times:de((function(t,n,i,o,s,a,h){if(!(t=r(t,Vt)).path)return 28;u.refreshMemory();var c=d.fstatSync(t.real);n=c.atime,c=c.mtime;var f=pe(e(0));return 3==(3&h)||12==(12&h)?28:(1==(1&h)?n=pe(s):2==(2&h)&&(n=f),4==(4&h)?c=pe(a):8==(8&h)&&(c=f),i=Z.from(u.memory.buffer,i,o).toString(),d.utimesSync(y.resolve(t.path,i),new Date(n),new Date(c)),0)})),path_link:de((function(t,e,n,i,o,s,a){return t=r(t,Lt),o=r(o,Dt),t.path&&o.path?(u.refreshMemory(),n=Z.from(u.memory.buffer,n,i).toString(),s=Z.from(u.memory.buffer,s,a).toString(),d.linkSync(y.resolve(t.path,n),y.resolve(o.path,s)),0):28})),path_open:de((function(t,e,n,i,o,s,c,f,l){e=r(t,Ut),s=h(s),c=h(c),t=(s&(At|Mt))!==h(0);var p=(s&(Tt|kt|Nt|qt))!==h(0);if(p&&t)var m=d.constants.O_RDWR;else t?m=d.constants.O_RDONLY:p&&(m=d.constants.O_WRONLY);if(t=s|Ut,s|=c,0!=(1&o)&&(m|=d.constants.O_CREAT,t|=xt),0!=(2&o)&&(m|=d.constants.O_DIRECTORY),0!=(4&o)&&(m|=d.constants.O_EXCL),0!=(8&o)&&(m|=d.constants.O_TRUNC,t|=Gt),0!=(1&f)&&(m|=d.constants.O_APPEND),0!=(2&f)&&(m=d.constants.O_DSYNC?m|d.constants.O_DSYNC:m|d.constants.O_SYNC,s|=Tt),0!=(4&f)&&(m|=d.constants.O_NONBLOCK),0!=(8&f)&&(m=d.constants.O_RSYNC?m|d.constants.O_RSYNC:m|d.constants.O_SYNC,s|=It),0!=(16&f)&&(m|=d.constants.O_SYNC,s|=It),p&&0==(m&(d.constants.O_APPEND|d.constants.O_TRUNC))&&(s|=Ot),u.refreshMemory(),n=Z.from(u.memory.buffer,n,i).toString(),n=y.resolve(e.path,n),y.relative(e.path,n).startsWith(".."))return 76;try{var g=d.realpathSync(n);if(y.relative(e.path,g).startsWith(".."))return 76}catch(t){if("ENOENT"!==t.code)throw t;g=n}try{var v=d.statSync(g).isDirectory()}catch(t){}return m=!p&&v?d.openSync(g,d.constants.O_RDONLY):d.openSync(g,m),v=a(u.FD_MAP.keys()).reverse()[0]+1,u.FD_MAP.set(v,{real:m,filetype:void 0,rights:{base:t,inheriting:s},path:g}),ye(u,v),u.view.setUint32(l,v,!0),0})),path_readlink:de((function(t,e,n,i,o,s){return(t=r(t,jt)).path?(u.refreshMemory(),e=Z.from(u.memory.buffer,e,n).toString(),e=y.resolve(t.path,e),e=d.readlinkSync(e),i=Z.from(u.memory.buffer).write(e,i,o),u.view.setUint32(s,i,!0),0):28})),path_remove_directory:de((function(t,e,n){return(t=r(t,Jt)).path?(u.refreshMemory(),e=Z.from(u.memory.buffer,e,n).toString(),d.rmdirSync(y.resolve(t.path,e)),0):28})),path_rename:de((function(t,e,n,i,o,s){return t=r(t,Wt),i=r(i,Yt),t.path&&i.path?(u.refreshMemory(),e=Z.from(u.memory.buffer,e,n).toString(),o=Z.from(u.memory.buffer,o,s).toString(),d.renameSync(y.resolve(t.path,e),y.resolve(i.path,o)),0):28})),path_symlink:de((function(t,e,n,i,o){return(n=r(n,$t)).path?(u.refreshMemory(),t=Z.from(u.memory.buffer,t,e).toString(),i=Z.from(u.memory.buffer,i,o).toString(),d.symlinkSync(t,y.resolve(n.path,i)),0):28})),path_unlink_file:de((function(t,e,n){return(t=r(t,Xt)).path?(u.refreshMemory(),e=Z.from(u.memory.buffer,e,n).toString(),d.unlinkSync(y.resolve(t.path,e)),0):28})),poll_oneoff:function(t,r,n,i){var o=0,s=0;u.refreshMemory();for(var a=0;a<n;a+=1){var c=u.view.getBigUint64(t,!0);t+=8;var f=u.view.getUint8(t);switch(t+=1,f){case 0:t+=7,u.view.getBigUint64(t,!0),t+=8;var l=u.view.getUint32(t,!0);t+=4,t+=4,f=u.view.getBigUint64(t,!0),t+=8,u.view.getBigUint64(t,!0),t+=8;var d=u.view.getUint16(t,!0);t+=2,t+=6;var y=1===d;d=0,null===(l=h(e(l)))?d=28:s=(f=y?f:l+f)>s?f:s,u.view.setBigUint64(r,c,!0),r+=8,u.view.setUint16(r,d,!0),r+=2,u.view.setUint8(r,0),r+=1,r+=5,o+=1;break;case 1:case 2:t+=3,u.view.getUint32(t,!0),t+=4,u.view.setBigUint64(r,c,!0),r+=8,u.view.setUint16(r,52,!0),r+=2,u.view.setUint8(r,f),r+=1,r+=5,o+=1;break;default:return 28}}for(u.view.setUint32(i,o,!0);p.hrtime()<s;);return 0},proc_exit:function(t){return p.exit(t),0},proc_raise:function(t){return t in he?(p.kill(he[t]),0):28},random_get:function(t,e){return u.refreshMemory(),p.randomFillSync(new Uint8Array(u.memory.buffer),t,e),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((function(t){var e=u.wasiImport[t];u.wasiImport[t]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];console.log("WASI: wasiImport called: "+t+" ("+r+")");try{var i=e.apply(void 0,a(r));return console.log("WASI:  => "+i),i}catch(t){throw console.log("Catched error: "+t),t}}}))}return t.prototype.refreshMemory=function(){this.view&&0!==this.view.buffer.byteLength||(this.view=new c(this.memory.buffer))},t.prototype.setMemory=function(t){this.memory=t},t.prototype.start=function(t){if(null===(t=t.exports)||"object"!=typeof t)throw Error("instance.exports must be an Object. Received "+t+".");var e=t.memory;if(!(e instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+e+".");this.setMemory(e),t._start&&t._start()},t.prototype.getImportNamespace=function(t){var e,r=null;try{for(var n=o(WebAssembly.Module.imports(t)),i=n.next();!i.done;i=n.next()){var s=i.value;if("function"===s.kind&&s.module.startsWith("wasi_"))if(r){if(r!==s.module)throw Error("Multiple namespaces detected.")}else r=s.module}}catch(t){var a={error:t}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return r},t.prototype.getImports=function(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can't detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=Rt,t}();const _e=be},464:t=>{"use strict";t.exports=require("util")},496:t=>{"use strict";t.exports=require("vscode")},891:(t,e,r)=>{"use strict";r.r(e),r.d(e,{createEndpoint:()=>i,expose:()=>h,proxy:()=>g,proxyMarker:()=>n,releaseProxy:()=>o,transfer:()=>m,transferHandlers:()=>u,windowEndpoint:()=>v,wrap:()=>f});const n=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),a=t=>"object"==typeof t&&null!==t||"function"==typeof t,u=new Map([["proxy",{canHandle:t=>a(t)&&t[n],serialize(t){const{port1:e,port2:r}=new MessageChannel;return h(t,e),[r,[r]]},deserialize:t=>(t.start(),f(t))}],["throw",{canHandle:t=>a(t)&&s in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function h(t,e=self){e.addEventListener("message",(function r(n){if(!n||!n.data)return;const{id:i,type:o,path:a}=Object.assign({path:[]},n.data),u=(n.data.argumentList||[]).map(b);let f;try{const e=a.slice(0,-1).reduce(((t,e)=>t[e]),t),r=a.reduce(((t,e)=>t[e]),t);switch(o){case"GET":f=r;break;case"SET":e[a.slice(-1)[0]]=b(n.data.value),f=!0;break;case"APPLY":f=r.apply(e,u);break;case"CONSTRUCT":f=g(new r(...u));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;h(t,r),f=m(e,[e])}break;case"RELEASE":f=void 0;break;default:return}}catch(t){f={value:t,[s]:0}}Promise.resolve(f).catch((t=>({value:t,[s]:0}))).then((t=>{const[n,s]=w(t);e.postMessage(Object.assign(Object.assign({},n),{id:i}),s),"RELEASE"===o&&(e.removeEventListener("message",r),c(e))}))})),e.start&&e.start()}function c(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function f(t,e){return p(t,[],e)}function l(t){if(t)throw new Error("Proxy has been released and is not useable")}function p(t,e=[],r=function(){}){let n=!1;const s=new Proxy(r,{get(r,i){if(l(n),i===o)return()=>_(t,{type:"RELEASE",path:e.map((t=>t.toString()))}).then((()=>{c(t),n=!0}));if("then"===i){if(0===e.length)return{then:()=>s};const r=_(t,{type:"GET",path:e.map((t=>t.toString()))}).then(b);return r.then.bind(r)}return p(t,[...e,i])},set(r,i,o){l(n);const[s,a]=w(o);return _(t,{type:"SET",path:[...e,i].map((t=>t.toString())),value:s},a).then(b)},apply(r,o,s){l(n);const a=e[e.length-1];if(a===i)return _(t,{type:"ENDPOINT"}).then(b);if("bind"===a)return p(t,e.slice(0,-1));const[u,h]=d(s);return _(t,{type:"APPLY",path:e.map((t=>t.toString())),argumentList:u},h).then(b)},construct(r,i){l(n);const[o,s]=d(i);return _(t,{type:"CONSTRUCT",path:e.map((t=>t.toString())),argumentList:o},s).then(b)}});return s}function d(t){const e=t.map(w);return[e.map((t=>t[0])),(r=e.map((t=>t[1])),Array.prototype.concat.apply([],r))];var r}const y=new WeakMap;function m(t,e){return y.set(t,e),t}function g(t){return Object.assign(t,{[n]:!0})}function v(t,e=self,r="*"){return{postMessage:(e,n)=>t.postMessage(e,r,n),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function w(t){for(const[e,r]of u)if(r.canHandle(t)){const[n,i]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},i]}return[{type:"RAW",value:t},y.get(t)||[]]}function b(t){switch(t.type){case"HANDLER":return u.get(t.name).deserialize(t.value);case"RAW":return t.value}}function _(t,e,r){return new Promise((n=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(r){r.data&&r.data.id&&r.data.id===i&&(t.removeEventListener("message",e),n(r.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),r)}))}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const e=r(496),i=r(537),o=r(454),s=r(948);async function a(t,r,n){const o=n.uri;await(0,i.loadInitialAssets)(r,o,t.extensionUri),e.commands.executeCommand("vscode.open",e.Uri.joinPath(o,"src/Main.cpp"),{preview:!1}),e.commands.executeCommand("workbench.action.terminal.newWithProfile",{profileName:"emcc terminal"}),await(0,i.loadAdditionalAssets)(r,o)}t.activate=async function(t){if("object"==typeof navigator){let r;t.subscriptions.push(e.commands.registerCommand("siv3d-playground.compile.run",(async()=>{const t=new Promise(((t,e)=>{r=t}));if(e.commands.executeCommand("workbench.action.tasks.runTask","emcc build"),0===await t){const t=e.workspace.workspaceFolders&&e.workspace.workspaceFolders.length>0?e.workspace.workspaceFolders[0].uri:void 0;e.commands.executeCommand("emcc.preview.show",e.Uri.joinPath(t,"main.html"),"Siv3D Preview")}r=null}))),e.tasks.onDidEndTaskProcess((t=>{"emcc build"==t.execution.task.name&&r&&r(t.exitCode)}));const n=function(t){const e=new s.WasmMemFs;return t.subscriptions.push(e),e}(t);n.createDirectory(e.Uri.parse("memfs:/siv3d-playground"));const i=e.workspace.workspaceFolders&&e.workspace.workspaceFolders.length>0?e.workspace.workspaceFolders[0]:void 0;i&&a(t,n,i),e.workspace.onDidChangeWorkspaceFolders((e=>{for(const r of e.added)a(t,n,r)})),e.window.registerTerminalProfileProvider("wasm.terminal",{provideTerminalProfile:t=>new e.TerminalProfile({name:"wasm terminal",pty:new o.WasmPseudoTerminal(n.wasmFs)})})}}})();var i=exports;for(var o in n)i[o]=n[o];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map